====
# schemaorg/5
U: Show me the closest McDonald's
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), id =~ "mcdonald 's"))[1];
====
# schemaorg/8
U: What is the phone number for Noodle Nirvana?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [phone] of ((@com.yelp.restaurant()), id =~ "noodle nirvana") => notify;
====
# schemaorg/11
U: Search for vegetarian restaurants with 4 star reviews or better.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating >= 4 && contains(cuisines, null^^com.yelp:restaurant_cuisine("vegetarian"))) => notify;
====
# schemaorg/12
U: Search for Italian restaurants with at least 50 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (review_count >= 50 && contains(cuisines, null^^com.yelp:restaurant_cuisine("italian"))) => notify;
====
# schemaorg/13
U: List Italian restaurants with higher ratings that 4 stars.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating >= 4 && contains(cuisines, null^^com.yelp:restaurant_cuisine("italian"))) => notify;
====
# schemaorg/14
U: Look for a Japanese restaurant that is the closest to me.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort (distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("japanese"))))[1];
====
# schemaorg/15
U: What's the telephone number of the Arby's on Sherman in Muskegon, MI?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [phone] of ((@com.yelp.restaurant()), (geo == new Location("sherman in muskegon , mi") && id =~ "arby 's")) => notify;
====
# schemaorg/38
U: Can you show me all the 4 star restaurants in the area?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating == 4 && geo == $context.location.current_location) => notify;
====
# schemaorg/40
U: What is the phone number for the nearest Wendy's?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of sort(distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), id =~ "wendy 's"))[1] => notify;
====
# schemaorg/44
U: Find Mexican restaurants with at least 4 star rating.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating >= 4 && contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican"))) => notify;
====
# schemaorg/64
U: where is the closest Starbucks?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of sort(distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), id =~ "starbucks"))[1] => notify;
====
# schemaorg/68
U: Can you tell me where the closest Pizza Hut is?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of sort(distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), id =~ "pizza hut"))[1] => notify;
====
# schemaorg/77
U: What is the telephone number for the nearest Chinese restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of sort(distance(geo, $location.current_location) asc of ((@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"))))[1] => notify;
====
# schemaorg/82
U: How close am I to Art's Deli or Carnegie Deli?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [distance(geo, $location.current_location)] of ((@com.yelp.restaurant()), (id =~ "art 's deli" || id =~ "carnegie deli"));
====
# schemaorg/95
U: What is the address of the Panda Express in Grand Rapids, Michigan?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [geo] of ((@com.yelp.restaurant()), (geo == new Location("grand rapids , michigan") && id =~ "panda express")) => notify;
====
# schemaorg/sf2
U: Can you look for a restaurant with a rating of 5?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating == 5 => notify;
====
# schemaorg/sf5
U: Search for Bayshore Bean.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "bayshore bean" => notify;
====
# schemaorg/sf8
U: Find all the bakeries.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("bakeries")) => notify;
====
# schemaorg/sf9
U: Show me all restaurants rated with exactly 3 stars.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating == 3 => notify;
====
# schemaorg/sf11
U: Find Thai restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("thai")) => notify;
====
# schemaorg/sf12
U: Show me Cook Out.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "cook out" => notify;
====
# schemaorg/sf14
U: Find restaurants with more than 10 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 10 => notify;
====
# schemaorg/sf17
U: Does the lone star steakhouse in Dallas NC have a review yet?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [review_count] of ((@com.yelp.restaurant()), (geo == new Location("dallas nc") && id =~ "lone star steakhouse")) => notify;
====
# schemaorg/sf21
U: Can you find the restaurant nearest to my location?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, $location.current_location) asc of (@com.yelp.restaurant()))[1];
====
# schemaorg/sf23
U: Find me a restaurant on Main St. please.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == new Location("main st.") => notify;
====
# schemaorg/sf30
U: How many reviews does the place have?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [review_count] of (@com.yelp.restaurant()) => notify;
====
# schemaorg/sf34
U: Give me all the italian places.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) => notify;
====
# schemaorg/sf40
U: Is there a restaurant named China King?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "china king" => notify;
====
# schemaorg/sf46
U: What is the highest rated restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort rating desc of (@com.yelp.restaurant()))[1] => notify;
====
# schemaorg/sf52
U: show me all 5 star restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating == 5 => notify;
====
# schemaorg/sf66
U: Show me a sushi restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("sushi")) => notify;
====
# schemaorg/sf67
U: Find all 5 star BBQ places.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating == 5 && contains(cuisines, null^^com.yelp:restaurant_cuisine("bbq"))) => notify;
====
# schemaorg/sf68
U: Show me Italian restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) => notify;
====
# schemaorg/sf75
U: Show me restaurants with a rating of 5.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating == 5 => notify;
====
# schemaorg/sf77
U: Search for hamburger joints.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("hamburger")) => notify;
====
# schemaorg/sf80
U: Look for American restaurants close by.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (geo == $context.location.current_location && contains(cuisines, null^^com.yelp:restaurant_cuisine("american"))) => notify;
====
# schemaorg/sf82
U: Find all of the restaurants that have a rating about 4.5.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating == 4.5 => notify;
====
# schemaorg/sf86
U: Find all restaurants in my downtown area.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == $context.location.current_location => notify;
====
# schemaorg/sf92
U: Show me sushi restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("sushi")) => notify;
====
# schemaorg/sf95
U: Search for Luby's cafeteria.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "luby 's cafeteria" => notify;
====
# schemaorg/sf104
U: Display any restaurants with overall rating of 4 or above.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating >= 4 => notify;
====
# schemaorg/sf105
U: I want to see some Indian restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("indian")) => notify;
====
# schemaorg/sf108
U: Search for burger king.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "burger king" => notify;
====
# schemaorg/sf115
U: I would like to find Brenda's French Soul Food.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "brenda 's french soul food" => notify;
====
# schemaorg/sf120
U: Look for Mai Lee.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "mai lee" => notify;
====
# schemaorg/sf121
U: Find the Vietnamese restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("vietnamese")) => notify;
====
# schemaorg/sf127
U: I want to see the top Mexican restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort rating desc of ((@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican"))))[1] => notify;
====
# schemaorg/sf133
U: Look up restaurants in Las Vegas
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == new Location("las vegas") => notify;
====
# schemaorg/sf136
U: Find restaurants with at least 100 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 100 => notify;
====
# schemaorg/sf143
U: Show me the restaurant with the most reviews
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort review_count desc of (@com.yelp.restaurant()))[1] => notify;
====
# schemaorg/sf150
U: Show me Ethiopian restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("ethiopian")) => notify;
====
# schemaorg/sf151
U: Show me restaurants with more than 100 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 100 => notify;
====
# schemaorg/sf152
U: Find all the restaurants rated higher than 3.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating >= 3 => notify;
====
# schemaorg/sf154
U: Show me Mexican restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) => notify;
====
# schemaorg/sf156
U: List all the restaurants with higher than 3 stars.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating >= 3 => notify;
====
# schemaorg/sf167
U: How many reviews have been posted for Old Town Doughnuts?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [review_count] of ((@com.yelp.restaurant()), id =~ "old town doughnuts") => notify;
====
# schemaorg/sf168
U: How many restaurants have an average rating above 4.8?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => aggregate count of ((@com.yelp.restaurant()), rating >= 4.8) => notify;
====
# schemaorg/sf172
U: I'd like any food with more than 200 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 200 => notify;
====
# schemaorg/sf178
U: Show me Los Dos Amigos
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "los dos amigos" => notify;
====
# schemaorg/sf179
U: Show me restaurants with the most reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort review_count desc of (@com.yelp.restaurant()))[1] => notify;
====
# schemaorg/sf180
U: Show me Mexican restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) => notify;
====
# schemaorg/sf190
U: Search for Dairy Queen.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "dairy queen" => notify;
====
# schemaorg/sf194
U: Show me restaurants with more than 50 posted reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 50 => notify;
====
# schemaorg/rerun1f199
U: Find restaurants with more than 100 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 100 => notify;
====
# schemaorg/rerun1f19
U: Show me White Castle
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "white castle" => notify;
====
# schemaorg/rerun1f110
U: Show me Mexican restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) => notify;
====
# schemaorg/rerun1f122
U: I want to see restaurants with more than 20 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), review_count >= 20 => notify;
====
# schemaorg/rerun1f44
U: Show me the highest rated restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort rating desc of (@com.yelp.restaurant()))[1] => notify;
====
# schemaorg/rerun2f57
U: Where is the nearest McDonald's?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [geo] of ((sort distance asc of (compute (distance(geo, $context.location.current_location)) of ((@com.yelp.restaurant()), id =~ "mcdonald 's")))[1]) => notify;
====
# schemaorg/rerun1f2
U: Find all restaurants rated higher than 3
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating >= 3 => notify;
====
# schemaorg/rerun1f97
U: What is Ramen Nagi's rating?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [rating] of ((@com.yelp.restaurant()), id =~ "ramen nagi") => notify;
====
# schemaorg/rerun2f188
U: Show me Italian restaurants nearby.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (geo == $context.location.current_location && contains(cuisines, null^^com.yelp:restaurant_cuisine("italian"))) => notify;
====
# schemaorg/rerun2f11
U: What is the phone number for Sampan?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [phone] of ((@com.yelp.restaurant()), id =~ "sampan") => notify;
====
# schemaorg/rerun1f163
U: Please tell me the location of Dave's Seafood Shack.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [geo] of ((@com.yelp.restaurant()), id =~ "dave 's seafood shack") => notify;
====
# schemaorg/rerun1f154
U: Show restaurants in San Francisco.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == new Location("san francisco") => notify;
====
# schemaorg/rerun1f180
U: Find all Mexican restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) => notify;
====
# schemaorg/rerun1f13
U: Show me restaurants with the most reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (sort review_count desc of (@com.yelp.restaurant()))[1] => notify;
====
# schemaorg/rerun2f182
U: What is the phone number for Ginger China?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [phone] of ((@com.yelp.restaurant()), id =~ "ginger china") => notify;
====
# schemaorg/rerun1f35
U: Find me In-N-Out Burger.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "in-n-out burger" => notify;
====
# schemaorg/200rerun1f2
U: Find all restaurants rated higher than 3
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), rating >= 3 => notify;
====
# schemaorg/rerun1f193
U: Search for a Mexican restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) => notify;
====
# schemaorg/rerun1f150
U: Show me all Italian restaurants.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) => notify;
====
# schemaorg/rerun2f55
U: Show me a Chinese restaurant with a rating of 5.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating == 5 && contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"))) => notify;
====
# schemaorg/rerun2f77
U: What is the price range for Ramen Nagi?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [price] of ((@com.yelp.restaurant()), id =~ "ramen nagi") => notify;
====
# schemaorg/rerun2f105
U: Find Italian restaurants with at least 100 reviews.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (review_count >= 100 && contains(cuisines, null^^com.yelp:restaurant_cuisine("italian"))) => notify;
====
# schemaorg/rerun1f192
U: Find all restaurants in Chicago.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == new Location("chicago") => notify;
====
# schemaorg/rerun1f16
U: I'm looking for Armenian restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), contains(cuisines, null^^com.yelp:restaurant_cuisine("armenian")) => notify;
====
# schemaorg/rerun1f32
U: Show me all of the 5 star restaurants nearby.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating == 5 && geo == $context.location.current_location) => notify;
====
# schemaorg/rerun2f133
U: Show me Mexican restaurants with at least a 4 star rating.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), (rating >= 4 && contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican"))) => notify;
====
# schemaorg/rerun2f115
U: Search for Sushi King restaurant for me.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), id =~ "sushi king" => notify;
====
# schemaorg/rerun1f134
U: Show me restaurants on Main street.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => (@com.yelp.restaurant()), geo == new Location("main street") => notify;
====
# schemaorg/rerun2f194
U: What is the phone number of the nearest Pizza Hut?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: now => [phone] of ((sort distance asc of (compute (distance(geo, $context.location.current_location)) of ((@com.yelp.restaurant()), id =~ "pizza hut")))[1]) => notify;
====
# log/48007
U: get 13 star restaurants with category includes chinese at palo alto
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location("palo alto") && rating == 13;
====
# log/125402
U: yelp
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/3704
U: find chinese restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# log-dev/3680
U: find restaurants nearby
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location;
====
# log-dev/5700
U: find me a restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/3689
U: show me nearby starbucks
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location && id =~ "starbucks";
====
# log-dev/2822
U: restaurants with cuisine chinese
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# log-dev/3235
U: what is the highest rated chinese restaurant in hawaii?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location("hawaii"))[1];
====
# log-dev/3248
U: show me restaurants in taiwan rated 13 stars and above
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("taiwan") && rating >= 13;
====
# log-dev/3457
U: what's the highest rated restaurant in san francisco
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("san francisco"))[1];
====
# log-dev/3633
U: search for restaurant in honolulu
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("honolulu");
====
# log-dev/7296
U: i'm hungry, what should i have for lunch?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/7293
U: almonds. can you find a russian restaurant near me?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("russian")) && geo == $location.current_location;
====
# log-dev/3478
U: show me the highest rated restaurant in palo alto
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("palo alto"))[1];
====
# log-dev/5655
U: find me an italian restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian"));
====
# log-dev/5738
U: get restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/2198
U: get chinese restaurants with 13 or more stars
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && rating >= 13;
====
# recording/a264c47812712ba9a2d14434956fe2c2
U: find chinese restaurant near me
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == $location.current_location;
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California")
C: #[results=[
C:   { id="dLbBSJeyN85FIzHxb6oYtg"^^com.yelp:restaurant("Crouching Tiger Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/ve7XevVMUGbqXg3eZtRpgw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crouching-tiger-restaurant-and-bar-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=957, geo=new Location(37.48640133, -122.23424633, "2644 Broadway St, Redwood City, CA 94063"), phone="+16502988881"^^tt:phone_number },
C:   { id="aRu3VeiAZu4YKN9PvYvpYw"^^com.yelp:restaurant("I Dumpling"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/IEWkD6_T6CdQWBAS3HR76Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/i-dumpling-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "taiwanese"^^com.yelp:restaurant_cuisine("Taiwanese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum cheap, rating=4, review_count=730, geo=new Location(37.48645, -122.23472, "2660 Broadway St, Redwood City, CA 94063"), phone="+16505689789"^^tt:phone_number },
C:   { id="7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/bFk3Em8GMnVqpRwCkZfW7A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/redwood-bistro-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4.5, review_count=329, geo=new Location(37.48712, -122.23548, "711 El Camino Real, Redwood City, CA 94063"), phone="+16502169988"^^tt:phone_number },
C:   { id="uMu3grYWk3ERsw8fXlFGvw"^^com.yelp:restaurant("Panda Dumpling"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/Qheysge21koMREg8aTOCJA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/panda-dumpling-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=631, geo=new Location(37.49904, -122.25199, "1195 Laurel St, San Carlos, CA 94070"), phone="+16505938888"^^tt:phone_number },
C:   { id="a6YM6lvO5ATmvnX3Ozdq9Q"^^com.yelp:restaurant("Hot Wok Bistro Too"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/JeGbwhkzpWZ2kkHUzFGaTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/hot-wok-bistro-too-san-carlos-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum cheap, rating=4, review_count=263, geo=new Location(37.4957223292802, -122.248010847522, "1541 Laurel St, San Carlos, CA 94070"), phone="+16506224979"^^tt:phone_number },
C:   { id="S8ecMU_Sx0esyI7YDC_5Yw"^^com.yelp:restaurant("Amazing Wok"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/PwbTj_RDUipr1ENVNMuyKA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/amazing-wok-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=327, geo=new Location(37.49475, -122.24667, "1653 Laurel St, San Carlos, CA 94070"), phone="+16505952031"^^tt:phone_number },
C:   { id="bnKsZLJChHEnFV9g7mkxnA"^^com.yelp:restaurant("Yan's Garden"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gwmPoE50BMxQFyV9SlJ5bw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/yans-garden-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=372, geo=new Location(37.5028084428936, -122.256572279751, "885 Laurel St, San Carlos, CA 94070"), phone="+16505939777"^^tt:phone_number },
C:   { id="cYCXa_lfNmj-E7RiT11u6Q"^^com.yelp:restaurant("Red Hot Chilli Pepper"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/PUmvsVPC5g7GefjCcsz14A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/red-hot-chilli-pepper-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "indpak"^^com.yelp:restaurant_cuisine("Indian")], price=enum moderate, rating=3.5, review_count=1241, geo=new Location(37.506844238722685, -122.26054660000001, "1125 San Carlos Ave, San Carlos, CA 94070"), phone="+16504533055"^^tt:phone_number },
C:   { id="NhrRXDU6LaTf1wwwuU0Odg"^^com.yelp:restaurant("Seapot 海中锅"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/xKaXHOTfFgH9Don6nCOwFw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/seapot-%E6%B5%B7%E4%B8%AD%E9%94%85-san-mateo?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot"), "chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=1397, geo=new Location(37.54851, -122.31128, "1952 S El Camino Real, San Mateo, CA 94403"), phone="+16503152827"^^tt:phone_number },
C:   { id="4Bn7z4IPxBk9dF3EpTqMQg"^^com.yelp:restaurant("Happy Lamb Hot Pot"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/OlAyxorRckAHQTmusBWi2Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/happy-lamb-hot-pot-san-mateo?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "mongolian"^^com.yelp:restaurant_cuisine("Mongolian"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot")], price=enum moderate, rating=4, review_count=1508, geo=new Location(37.5656637, -122.3237292, "215 S Ellsworth Ave, San Mateo, CA 94401"), phone="+16503432566"^^tt:phone_number }
C: ]]
C: #[count=38];
A: I have found Crouching Tiger Restaurant & Bar or I Dumpling. They're restaurants rated 4 star having Chinese food.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_two;
U: how many reviews do they have
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [review_count] of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California");
====
# recording/a2700073a62a8eeb0a2e28a3e5d2d476
U: what are the best 3 restaurants in redwood city
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("redwood city"))[1 : 3];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(rating desc of @com.yelp.restaurant() filter geo == new Location(37.4863239, -122.232523, "Redwood City, California"))[1 : 3]
C: #[results=[
C:   { id="HahGa2zjrNsZ-vEuYPBxcA"^^com.yelp:restaurant("Falafelle"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/8Rr6daL7NXjAk8U7pLDoLw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/falafelle-belmont?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vegan"^^com.yelp:restaurant_cuisine("Vegan"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern"), "falafel"^^com.yelp:restaurant_cuisine("Falafel")], price=enum cheap, rating=5, review_count=724, geo=new Location(37.51881584188606, -122.27742557949001, "1035 Ralston Ave, Belmont, CA 94002"), phone="+16507291222"^^tt:phone_number },
C:   { id="kn7uvNMFhmrg3xCXOihVUw"^^com.yelp:restaurant("V&V Delicious Crepes"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/aeSPdOsPdOguEv_wGxC87g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/v-and-v-delicious-crepes-san-carlos-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["creperies"^^com.yelp:restaurant_cuisine("Crepes"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian")], price=enum moderate, rating=5, review_count=173, geo=new Location(37.507795230408, -122.259395867586, "601 Old County Rd, San Carlos, CA 94070"), phone="+16504861251"^^tt:phone_number },
C:   { id="ig90VggWkyvxdOn47vzmwA"^^com.yelp:restaurant("Falafel and Things"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/xt69z9UoISBfYucpicUsUw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/falafel-and-things-redwood-city-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["falafel"^^com.yelp:restaurant_cuisine("Falafel"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=5, review_count=71, geo=new Location(37.483465, -122.2056157, "2766 Bay Rd, Redwood City, CA 94063"), phone="+15103616207"^^tt:phone_number }
C: ]];
A: I have Falafelle, V&V Delicious Crepes and Falafel and Things. They're restaurants rated 5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: anything chinese
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California"))[1 : 3];
====
# recording/eea6bf210f40aa66e5b20f76063bf854
U: what is a good restaurant around here
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location;
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.4519671, -122.1779927, "Menlo Park")
C: #[results=[
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, reviewCount=2427, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, reviewCount=1768, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, reviewCount=2293, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="6i3eOYhboqTPEHThTOxgfg"^^com.yelp:restaurant("The Refuge"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/yDxywFUX7iBwY556Q-7y6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/the-refuge-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches"), "burgers"^^com.yelp:restaurant_cuisine("Burgers"), "gastropubs"^^com.yelp:restaurant_cuisine("Gastropubs")], price=enum moderate, rating=4, reviewCount=832, geo=new Location(37.451286315918, -122.185943603516, "1143 Crane St, Menlo Park, CA 94025"), phone="+16503198197"^^tt:phone_number },
C:   { id="BkwTtLkb0MImKsZ8H1nCAg"^^com.yelp:restaurant("Back A Yard Caribbean American Grill"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/Uqcb2bvNWKEMZVQmkj_Rhg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/back-a-yard-caribbean-american-grill-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["tradamerican"^^com.yelp:restaurant_cuisine("American (Traditional)"), "caribbean"^^com.yelp:restaurant_cuisine("Caribbean"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4.5, reviewCount=2231, geo=new Location(37.4729, -122.154948, "1189 Willow Rd, Menlo Park, CA 94025"), phone="+16503234244"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, reviewCount=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, reviewCount=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mVmwaJWAs2Fbdsc56UDocw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum moderate, rating=4, reviewCount=1145, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="d_IBp5wNVn5wDlNkblAL8w"^^com.yelp:restaurant("Fleming's Prime Steakhouse & Wine Bar"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/sdrmyH66gPwp9T5FjgS4Gw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/flemings-prime-steakhouse-and-wine-bar-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["steak"^^com.yelp:restaurant_cuisine("Steakhouses"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum expensive, rating=3.5, reviewCount=1397, geo=new Location(37.44492, -122.16955, "180 El Camino Real, Ste 2, Palo Alto, CA 94304"), phone="+16503298457"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/pJ_oxEFNyWFVltj_jK767A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, reviewCount=805, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number }
C: ]]
C: #[count=50];
A: Where are you now?
A: I have Evvia Estiatorio and Ramen Nagi. All of them are restaurants rated 4.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_two;
U: What's a good chinese restaurant here
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == $location.current_location;
====
# recording/99c963c2ee83f494b06ad16d885e540d
U: can you show me chinese restaurants with rating below 3.5?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && rating <= 3.5;
====
# recording/0ef19bdf494026dca983c6a76477a495
U: show me the restaurants around berkeley
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("berkeley");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.8708393, -122.2728639, "Berkeley, California")
C: #[results=[
C:   { id="uvCBQevs26owAL7KW2_VIA"^^com.yelp:restaurant("Cheese Board Pizza"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/S-5Nn8BJufkVNKJ281D6FQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cheese-board-pizza-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum cheap, rating=4.5, review_count=5367, geo=new Location(37.8801315387818, -122.269357296486, "1512 Shattuck Ave, Berkeley, CA 94709"), phone="+15105493183"^^tt:phone_number },
C:   { id="Q4o6ySw2V6r0UbK-aCAfng"^^com.yelp:restaurant("Angeline's Louisiana Kitchen"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/7JmU5f54Ga5mGEdmLwKt2A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/angelines-louisiana-kitchen-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "southern"^^com.yelp:restaurant_cuisine("Southern"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=4318, geo=new Location(37.868282, -122.267555, "2261 Shattuck Ave, Berkeley, CA 94704"), phone="+15105486900"^^tt:phone_number },
C:   { id="2u4DSD6F8RyFXp-Crhj8OA"^^com.yelp:restaurant("Cinnaholic"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/ztLLRhCIvdIWS8j3WujXPw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cinnaholic-berkeley-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vegan"^^com.yelp:restaurant_cuisine("Vegan")], price=enum cheap, rating=4.5, review_count=1686, geo=new Location(37.870305, -122.266062498093, "2132 Oxford St, Berkeley, CA 94704"), phone="+15106478684"^^tt:phone_number },
C:   { id="KoZtPdlNO2jMJ7Zc7I9JVg"^^com.yelp:restaurant("Jupiter"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/Tt3T3_pk5u0i6iDJjt4UIQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/jupiter-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "chicken_wings"^^com.yelp:restaurant_cuisine("Chicken Wings")], price=enum moderate, rating=4, review_count=3184, geo=new Location(37.869817, -122.267597, "2181 Shattuck Ave, Berkeley, CA 94704"), phone="+15108438277"^^tt:phone_number },
C:   { id="dmZS7KKxE8GHfIHzsenqUQ"^^com.yelp:restaurant("La Note"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/JALkbjMGELKBg8l3dIHqQg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-note-berkeley-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["french"^^com.yelp:restaurant_cuisine("French"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3668, geo=new Location(37.8662142064674, -122.267341609173, "2377 Shattuck Ave, Berkeley, CA 94704"), phone="+15108431525"^^tt:phone_number },
C:   { id="Se9nvLiXHWI5ltMSo8klCw"^^com.yelp:restaurant("The Butchers Son"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/BjmhM0KqCJB_NwyAQxavAw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/the-butchers-son-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["salad"^^com.yelp:restaurant_cuisine("Salad"), "tradamerican"^^com.yelp:restaurant_cuisine("American (Traditional)")], price=enum moderate, rating=4, review_count=1345, geo=new Location(37.8715428393541, -122.271646200946, "1954 University Ave, Berkeley, CA 94704"), phone="+15109840818"^^tt:phone_number },
C:   { id="cMyf8e6frO9PIutPvXpjow"^^com.yelp:restaurant("Chez Panisse"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/LDM_1qIyYMuI1Z9jgWSGrg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chez-panisse-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "french"^^com.yelp:restaurant_cuisine("French")], price=enum luxury, rating=4, review_count=2845, geo=new Location(37.879664, -122.26894, "1517 Shattuck Ave, Berkeley, CA 94709"), phone="+15105485525"^^tt:phone_number },
C:   { id="sKnjZ4bb-0AWxWqJv7cHOw"^^com.yelp:restaurant("Grégoire"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/zVNybiotkBeVGWFjSNFnWw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/gregoire-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["french"^^com.yelp:restaurant_cuisine("French"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=2277, geo=new Location(37.8785970706384, -122.268645902327, "2109 Cedar St, Berkeley, CA 94709"), phone="+15108831893"^^tt:phone_number },
C:   { id="oqyeLUSC2Z3Aczzh_4-4Yw"^^com.yelp:restaurant("Berkeley Social Club"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/31M_26DVjqn7EWndAwmVeQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/berkeley-social-club-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "korean"^^com.yelp:restaurant_cuisine("Korean")], price=enum moderate, rating=4, review_count=1333, geo=new Location(37.8718158, -122.2696171, "2050 University Ave, Berkeley, CA 94704"), phone="+15109005858"^^tt:phone_number },
C:   { id="uBuIZ8Pdk9HegYSAU0EsKA"^^com.yelp:restaurant("Great China"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/QpXekbyL5oYjoC-XWdgzxQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/great-china-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=2186, geo=new Location(37.8676818865786, -122.26615783488, "2190 Bancroft Way, Berkeley, CA 94704"), phone="+15108437996"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I have found Cheese Board Pizza. It is a cheap restaurant near Berkeley, California.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what is the address?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter geo == new Location(37.8708393, -122.2728639, "Berkeley, California") && id == "uvCBQevs26owAL7KW2_VIA"^^com.yelp:restaurant("Cheese Board Pizza");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.8708393, -122.2728639, "Berkeley, California")
C: #[results=[
C:   { id="uvCBQevs26owAL7KW2_VIA"^^com.yelp:restaurant("Cheese Board Pizza"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/S-5Nn8BJufkVNKJ281D6FQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cheese-board-pizza-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum cheap, rating=4.5, review_count=5367, geo=new Location(37.8801315387818, -122.269357296486, "1512 Shattuck Ave, Berkeley, CA 94709"), phone="+15105493183"^^tt:phone_number },
C:   { id="Q4o6ySw2V6r0UbK-aCAfng"^^com.yelp:restaurant("Angeline's Louisiana Kitchen"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/7JmU5f54Ga5mGEdmLwKt2A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/angelines-louisiana-kitchen-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "southern"^^com.yelp:restaurant_cuisine("Southern"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=4318, geo=new Location(37.868282, -122.267555, "2261 Shattuck Ave, Berkeley, CA 94704"), phone="+15105486900"^^tt:phone_number },
C:   { id="2u4DSD6F8RyFXp-Crhj8OA"^^com.yelp:restaurant("Cinnaholic"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/ztLLRhCIvdIWS8j3WujXPw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cinnaholic-berkeley-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vegan"^^com.yelp:restaurant_cuisine("Vegan")], price=enum cheap, rating=4.5, review_count=1686, geo=new Location(37.870305, -122.266062498093, "2132 Oxford St, Berkeley, CA 94704"), phone="+15106478684"^^tt:phone_number },
C:   { id="KoZtPdlNO2jMJ7Zc7I9JVg"^^com.yelp:restaurant("Jupiter"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/Tt3T3_pk5u0i6iDJjt4UIQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/jupiter-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "chicken_wings"^^com.yelp:restaurant_cuisine("Chicken Wings")], price=enum moderate, rating=4, review_count=3184, geo=new Location(37.869817, -122.267597, "2181 Shattuck Ave, Berkeley, CA 94704"), phone="+15108438277"^^tt:phone_number },
C:   { id="dmZS7KKxE8GHfIHzsenqUQ"^^com.yelp:restaurant("La Note"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/JALkbjMGELKBg8l3dIHqQg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-note-berkeley-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["french"^^com.yelp:restaurant_cuisine("French"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3668, geo=new Location(37.8662142064674, -122.267341609173, "2377 Shattuck Ave, Berkeley, CA 94704"), phone="+15108431525"^^tt:phone_number },
C:   { id="Se9nvLiXHWI5ltMSo8klCw"^^com.yelp:restaurant("The Butchers Son"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/BjmhM0KqCJB_NwyAQxavAw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/the-butchers-son-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["salad"^^com.yelp:restaurant_cuisine("Salad"), "tradamerican"^^com.yelp:restaurant_cuisine("American (Traditional)")], price=enum moderate, rating=4, review_count=1345, geo=new Location(37.8715428393541, -122.271646200946, "1954 University Ave, Berkeley, CA 94704"), phone="+15109840818"^^tt:phone_number },
C:   { id="cMyf8e6frO9PIutPvXpjow"^^com.yelp:restaurant("Chez Panisse"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/LDM_1qIyYMuI1Z9jgWSGrg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chez-panisse-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "french"^^com.yelp:restaurant_cuisine("French")], price=enum luxury, rating=4, review_count=2845, geo=new Location(37.879664, -122.26894, "1517 Shattuck Ave, Berkeley, CA 94709"), phone="+15105485525"^^tt:phone_number },
C:   { id="sKnjZ4bb-0AWxWqJv7cHOw"^^com.yelp:restaurant("Grégoire"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/zVNybiotkBeVGWFjSNFnWw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/gregoire-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["french"^^com.yelp:restaurant_cuisine("French"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=2277, geo=new Location(37.8785970706384, -122.268645902327, "2109 Cedar St, Berkeley, CA 94709"), phone="+15108831893"^^tt:phone_number },
C:   { id="oqyeLUSC2Z3Aczzh_4-4Yw"^^com.yelp:restaurant("Berkeley Social Club"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/31M_26DVjqn7EWndAwmVeQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/berkeley-social-club-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "korean"^^com.yelp:restaurant_cuisine("Korean")], price=enum moderate, rating=4, review_count=1333, geo=new Location(37.8718158, -122.2696171, "2050 University Ave, Berkeley, CA 94704"), phone="+15109005858"^^tt:phone_number },
C:   { id="uBuIZ8Pdk9HegYSAU0EsKA"^^com.yelp:restaurant("Great China"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/QpXekbyL5oYjoC-XWdgzxQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/great-china-berkeley?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=2186, geo=new Location(37.8676818865786, -122.26615783488, "2190 Bancroft Way, Berkeley, CA 94704"), phone="+15108437996"^^tt:phone_number }
C: ]]
C: #[count=50];
C: [geo] of @com.yelp.restaurant() filter geo == new Location(37.8708393, -122.2728639, "Berkeley, California") && id == "uvCBQevs26owAL7KW2_VIA"^^com.yelp:restaurant("Cheese Board Pizza")
C: #[results=[
C:   { id="uvCBQevs26owAL7KW2_VIA"^^com.yelp:restaurant("Cheese Board Pizza"), geo=new Location(37.8801315387818, -122.269357296486, "1512 Shattuck Ave, Berkeley, CA 94709") }
C: ]];
A: Cheese Board Pizza is a restaurant near Berkeley, California.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: show me restaurants in Canada
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter geo == new Location("canada");
====
# recording/b7dcaa84a8314f16bf82bf8a5b6c6a12
U: show me nearby restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location;
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.433014400000005, -122.17087506623025, "Cantor Arts Center")
C: #[results=[
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2427, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1768, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/pJ_oxEFNyWFVltj_jK767A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=805, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1306, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mVmwaJWAs2Fbdsc56UDocw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum moderate, rating=4, review_count=1145, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1928, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="3XwVZr6Jj2DnZ8B2W3RboQ"^^com.yelp:restaurant("Tootsies"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/sBP0ZGba2MU3dt18H1bxIg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tootsies-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=616, geo=new Location(37.43754, -122.17303, "700 Welch Rd, Palo Alto, CA 94305"), phone="+16505210254"^^tt:phone_number }
C: ]]
C: #[count=50];
A: Where are you now?
A: I see Evvia Estiatorio and Ramen Nagi. They're restaurants rated 4.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_two;
U: can you show me the worst ones?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating asc of @com.yelp.restaurant())[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.433014400000005, -122.17087506623025, "Cantor Arts Center")
C: #[results=[
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2427, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1768, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/pJ_oxEFNyWFVltj_jK767A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=805, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1306, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mVmwaJWAs2Fbdsc56UDocw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum moderate, rating=4, review_count=1145, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1928, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="3XwVZr6Jj2DnZ8B2W3RboQ"^^com.yelp:restaurant("Tootsies"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/sBP0ZGba2MU3dt18H1bxIg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tootsies-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=616, geo=new Location(37.43754, -122.17303, "700 Welch Rd, Palo Alto, CA 94305"), phone="+16505210254"^^tt:phone_number }
C: ]]
C: #[count=50];
C: sort(rating asc of @com.yelp.restaurant())[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/RMhejnIuiCMDmT9NaOKCAw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/rangoon-ruby-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "burmese"^^com.yelp:restaurant_cuisine("Burmese")], price=enum moderate, rating=3.5, review_count=1599, geo=new Location(37.44514, -122.16305, "445 Emerson St, Palo Alto, CA 94301"), phone="+16503236543"^^tt:phone_number }
C: ]];
A: The worst rated restaurant is Rangoon Ruby. It is a moderate restaurant near 420 Emerson St, Palo Alto, CA 94301.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what is its rating?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [rating] of sort(rating asc of @com.yelp.restaurant() filter id == "vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.433014400000005, -122.17087506623025, "Cantor Arts Center")
C: #[results=[
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2427, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1768, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/pJ_oxEFNyWFVltj_jK767A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=805, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1306, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mVmwaJWAs2Fbdsc56UDocw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum moderate, rating=4, review_count=1145, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1928, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="3XwVZr6Jj2DnZ8B2W3RboQ"^^com.yelp:restaurant("Tootsies"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/sBP0ZGba2MU3dt18H1bxIg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tootsies-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=616, geo=new Location(37.43754, -122.17303, "700 Welch Rd, Palo Alto, CA 94305"), phone="+16505210254"^^tt:phone_number }
C: ]]
C: #[count=50];
C: sort(rating asc of @com.yelp.restaurant())[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/RMhejnIuiCMDmT9NaOKCAw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/rangoon-ruby-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "burmese"^^com.yelp:restaurant_cuisine("Burmese")], price=enum moderate, rating=3.5, review_count=1599, geo=new Location(37.44514, -122.16305, "445 Emerson St, Palo Alto, CA 94301"), phone="+16503236543"^^tt:phone_number }
C: ]];
C: [rating] of sort(rating asc of @com.yelp.restaurant() filter id == "vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"))[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), rating=3.5 }
C: ]];
A: Rangoon Ruby is a restaurant rated 3.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: do you have anything lower than 3.5 stars?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [rating] of sort(rating asc of @com.yelp.restaurant() filter rating <= 3.5)[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.433014400000005, -122.17087506623025, "Cantor Arts Center")
C: #[results=[
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2427, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1768, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/pJ_oxEFNyWFVltj_jK767A/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=805, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1306, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mVmwaJWAs2Fbdsc56UDocw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "pizza"^^com.yelp:restaurant_cuisine("Pizza")], price=enum moderate, rating=4, review_count=1145, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1928, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="3XwVZr6Jj2DnZ8B2W3RboQ"^^com.yelp:restaurant("Tootsies"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/sBP0ZGba2MU3dt18H1bxIg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tootsies-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=616, geo=new Location(37.43754, -122.17303, "700 Welch Rd, Palo Alto, CA 94305"), phone="+16505210254"^^tt:phone_number }
C: ]]
C: #[count=50];
C: sort(rating asc of @com.yelp.restaurant())[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/RMhejnIuiCMDmT9NaOKCAw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/rangoon-ruby-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "burmese"^^com.yelp:restaurant_cuisine("Burmese")], price=enum moderate, rating=3.5, review_count=1599, geo=new Location(37.44514, -122.16305, "445 Emerson St, Palo Alto, CA 94301"), phone="+16503236543"^^tt:phone_number }
C: ]];
C: [rating] of sort(rating asc of @com.yelp.restaurant() filter id == "vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"))[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), rating=3.5 }
C: ]];
C: [rating] of sort(rating asc of @com.yelp.restaurant() filter rating <= 3.5)[1]
C: #[results=[
C:   { id="vStWaPrdP4ysnKpj0WoHJQ"^^com.yelp:restaurant("Rangoon Ruby"), rating=3.5 }
C: ]];
A: The worst rated restaurant is Rangoon Ruby. It is a restaurant rated 3.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: how about chinese ones?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [rating] of sort(rating asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && rating <= 3.5)[1];
====
# recording/f611129df536391a695cd8f554a12e04
U: where is the sakoon restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter id =~ "sakoon";
====
# recording/ee7fcb34461c662ef26678434f54b3d0
U: where is sakoon restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter id =~ "sakoon";
====
# log-dev/7641
U: computer find a restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/7394
U: get restaurant with high rating for indian food
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("indian"));
====
# recording/cc36bdeefb26f581cfaab42ca28a82b5
U: show me restaurants around here.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location;
====
# recording/05aacf2d14f6b87ddc8b468588d53d2c
U: show me restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant()
C: #[results=[
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1792, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2432, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1324, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/ThwUPBTjqTpNBEmc6CvIWQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=1155, geo=new Location(37.429495, -122.12274, "3191 Middlefield Rd, Palo Alto, CA 94303"), phone="+16502519798"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2303, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1926, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="pLqiFFz1JScp8wMMyXcx-w"^^com.yelp:restaurant("Terún"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/w1yuXOCOAFcL_TVkoFed4Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ter%C3%BAn-palo-alto-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1572, geo=new Location(37.425993, -122.145453, "448 S California Ave, Palo Alto, CA 94306"), phone="+16506008310"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1854, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="jwaXc3VVGDFQu1aCoiXwdw"^^com.yelp:restaurant("NOLA Restaurant & Bar"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/aFbcuzteoQ4yN5R9R5-XAg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/nola-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum expensive, rating=3.5, review_count=2837, geo=new Location(37.4450225830078, -122.161323547363, "535 Ramona St, Palo Alto, CA 94301"), phone="+16503282722"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I have Ramen Nagi, Evvia Estiatorio or Zareen's. They're 4.5 star restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: where is ramen nagi?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter id == null^^com.yelp:restaurant("ramen nagi");
====
# recording/225b30806320c4073c5ba32d9449956c
U: hi
UT: $dialogue @org.thingpedia.dialogue.transaction.greet;
C: $dialogue @org.thingpedia.dialogue.transaction.greet;
A: Hi, what can I do for you?
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_greet;
U: who has the best chinese food out here?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == $location.current_location)[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.426540700000004, -122.17029258409187, "Stanford, Palo Alto"))[1]
C: #[results=[
C:   { id="OFUQHchaV2uqjJmO-EuVlA"^^com.yelp:restaurant("Veggie Garden"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/lXh0FX6kfTa7IXuGew5etQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/veggie-garden-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian"), "chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4.5, review_count=488, geo=new Location(37.399226131236, -122.1086273955, "2464 W El Camino Real, Ste C, Mountain View, CA 94040"), phone="+16509616888"^^tt:phone_number }
C: ]];
A: The top rated restaurant is Veggie Garden. It is a moderate restaurant near 2464 W El Camino Real, Ste C, Mountain View, CA 94040.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what else do you have?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.426540700000004, -122.17029258409187, "Stanford, Palo Alto");
====
# recording/a0e4834ced1d1844907ca23d8ecf68d5
U: can you show me some restaurants?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant()
C: #[results=[
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=1802, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301"), phone=""^^tt:phone_number },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2433, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/o5_yGi3Qpk89hEQw1g-22Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1328, geo=new Location(37.426764, -122.144079, "365 S California Ave, Palo Alto, CA 94306"), phone="+16506008438"^^tt:phone_number },
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/ThwUPBTjqTpNBEmc6CvIWQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=1157, geo=new Location(37.429495, -122.12274, "3191 Middlefield Rd, Palo Alto, CA 94303"), phone="+16502519798"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2306, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="gYZbQe-zYyMpd9z1ud0T0w"^^com.yelp:restaurant("La Bodeguita Del Medio"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/VgcxHqaS0NBm1r8CE41upg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-bodeguita-del-medio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cuban"^^com.yelp:restaurant_cuisine("Cuban"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4, review_count=1927, geo=new Location(37.42539, -122.1451, "463 S California Ave, Palo Alto, CA 94306"), phone="+16503267762"^^tt:phone_number },
C:   { id="pLqiFFz1JScp8wMMyXcx-w"^^com.yelp:restaurant("Terún"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/w1yuXOCOAFcL_TVkoFed4Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ter%C3%BAn-palo-alto-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1575, geo=new Location(37.425993, -122.145453, "448 S California Ave, Palo Alto, CA 94306"), phone="+16506008310"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2266, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1853, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="jwaXc3VVGDFQu1aCoiXwdw"^^com.yelp:restaurant("NOLA Restaurant & Bar"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/aFbcuzteoQ4yN5R9R5-XAg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/nola-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum expensive, rating=3.5, review_count=2839, geo=new Location(37.4450225830078, -122.161323547363, "535 Ramona St, Palo Alto, CA 94301"), phone="+16503282722"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I have Ramen Nagi, Evvia Estiatorio or Zareen's. They're 4.5 star restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: can you show me two most rated restaurants?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant())[1 : 2];
====
# recording/b4e08ad0e579badd10faa3d9c77246b8
U: I'm hungry
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/3119
U: show me restaurants in taiwan rated at least 13 stars
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("taiwan") && rating >= 13;
====
# log-dev/3636
U: show me restaurants in new york city rated at least 13 stars
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("new york city") && rating >= 13;
====
# log-dev/4491
U: show me restaurants in seattle
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("seattle");
====
# log-dev/3093
U: show restaurants in taipei rated higher than 13
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("taipei") && rating >= 13;
====
# log-dev/3683
U: find restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# log-dev/2140
U: what's the best restaurant in palo alto
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("palo alto"))[1];
====
# log-dev/3359
U: show restaurants in taiwan rated higher than 13
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("taiwan") && rating >= 13;
====
# log-dev/8072
U: help search for restaurant in san ramon.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("san ramon");
====
# log-dev/2167
U: what s the top-rated restaurant in palo alto
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("palo alto"))[1];
====
# log-dev/621
U: search on yelp
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# recording/d74a8277899d89205d5fee37240bc7f1
U: I want to eat chinese food.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# recording/d33b3deb3cfbee3f21bfc99a873c17ce
U: I like chinese food.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# recording/1fba1cf45334d2eb1d7e65d77ab03e3a
U: show me restaurants with "box" in their name
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter id =~ "box";
====
# recording/da3427ae1bae714c674a6e194df1b219
U: restaurants in saratoga
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("saratoga");
====
# recording/803d3afb5b4723c1489d1bea6331f87f
U: where is taverna?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter id =~ "taverna";
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: [geo] of @com.yelp.restaurant() filter id =~ "taverna"
C: #[results=[
C:   { id="Z9zQYvlCLXw9x0AV4dYVng"^^com.yelp:restaurant("TAVERNA"), geo=new Location(37.44205, -122.15894, "800 Emerson St, Palo Alto, CA 94301") }
C: ]];
A: TAVERNA is a restaurant near 800 Emerson St, Palo Alto, CA 94301.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: suggest a pizzeria in palo alto
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("pizzeria")) && geo == new Location("palo alto");
====
# recording/2f73b694538e33c6ea0a096afd27178a
U: can you tell me a good japanese restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("japanese"));
====
# recording/794840d511e9106270ee55e5a9433572
U: show me restaurants with "box" in their name
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter id =~ "box";
====
# recording/6d63c954ce2ef96bd74d607b0a2e244f
U: find me indo restaurant & lounge
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter id =~ "indo restaurant & lounge";
====
# recording/fb064f84c7d397bc34b0538f65db925a
U: show me the number of review
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [review_count] of @com.yelp.restaurant();
====
# recording/58e7ee7d8f37c9003c8c8206c755e151
U: find me the restaurant named indo restaurant & lounge
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter id =~ "indo restaurant & lounge";
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter id =~ "indo restaurant & lounge"
C: #[results=[
C:   { id="-gjBoypvDfv9UhagceRsvw"^^com.yelp:restaurant("INDO Restaurant & Lounge"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/fnkiIbVnSh9eCsgQzuz5og/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/indo-restaurant-and-lounge-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indonesian"^^com.yelp:restaurant_cuisine("Indonesian")], price=enum moderate, rating=4, review_count=1085, geo=new Location(37.42086, -122.13699, "3295 El Camino Real, Palo Alto, CA 94306"), phone="+16504947168"^^tt:phone_number }
C: ]];
A: INDO Restaurant & Lounge is a restaurant near 3295 El Camino Real, Palo Alto, CA 94306 rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: how many people rated it
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [review_count] of @com.yelp.restaurant() filter id == "-gjBoypvDfv9UhagceRsvw"^^com.yelp:restaurant("INDO Restaurant & Lounge");
====
# recording/f32a6ad5aa6748696dd55d19e48100e1
U: what's the nearest pizza i can get to
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, $location.current_location) asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("pizza")))[1];
====
# recording/e192225619f27dedc426232aacc830d9
U: what's a good restaurant in san francisco mission district
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("san francisco mission district");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.75993, -122.4191376, "Mission District, San Francisco, CA 90103")
C: #[results=[
C:   { id="ri7UUYmx21AgSpRsf4-9QA"^^com.yelp:restaurant("Tartine Bakery"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/nPUUXYVVa3CHJh5yzH8Xnw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-bakery-san-francisco-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cafes"^^com.yelp:restaurant_cuisine("Cafes")], price=enum moderate, rating=4, review_count=8154, geo=new Location(37.76131, -122.42431, "600 Guerrero St, San Francisco, CA 94110"), phone="+14154872600"^^tt:phone_number },
C:   { id="KkAVX3Wb7E3lP5F_f_8pXg"^^com.yelp:restaurant("Liholiho Yacht Club"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/DluAA2YbM8k6qRM_mwbiNw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/liholiho-yacht-club-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum expensive, rating=4.5, review_count=2468, geo=new Location(37.7618143, -122.42296790220479, "3560 18th St, San Francisco, CA 94110"), phone="+14155897266"^^tt:phone_number },
C:   { id="SGRmnarrNuVEsAjYdEoA0w"^^com.yelp:restaurant("El Farolito"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/kYemXiMcYje-Da7AjPtWcg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/el-farolito-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum cheap, rating=4, review_count=5052, geo=new Location(37.75265, -122.41812, "2779 Mission St, San Francisco, CA 94110"), phone="+14158247877"^^tt:phone_number },
C:   { id="n6L5VIGunR51-D55C-eYeQ"^^com.yelp:restaurant("Foreign Cinema"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/cw5y2LSOIE-EVNjKK_d7SQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/foreign-cinema-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum expensive, rating=4, review_count=4988, geo=new Location(37.75637, -122.41925, "2534 Mission St, San Francisco, CA 94110"), phone="+14156487600"^^tt:phone_number },
C:   { id="1hMD7RQogPDWpE-p3LKjXA"^^com.yelp:restaurant("Loló"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/QimJjz8ECFnevPcssJYfTw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lol%C3%B3-san-francisco-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=2263, geo=new Location(37.7573462, -122.4214034, "974 Valencia St, San Francisco, CA 94110"), phone="+14156435656"^^tt:phone_number },
C:   { id="8kck3-K4zYKTJbJko0JlXQ"^^com.yelp:restaurant("Farmhouse Kitchen Thai Cuisine"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/kUlEaPpv0JGlHG_nrPr7wQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/farmhouse-kitchen-thai-cuisine-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["thai"^^com.yelp:restaurant_cuisine("Thai"), "comfortfood"^^com.yelp:restaurant_cuisine("Comfort Food")], price=enum moderate, rating=4, review_count=2904, geo=new Location(37.760192883932795, -122.4114188698492, "710 Florida St, San Francisco, CA 94110"), phone="+14158142920"^^tt:phone_number },
C:   { id="4KfQnlcSu4bbTqnvGdGptw"^^com.yelp:restaurant("Beretta"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/HKxMJ8q8fzOY76hy7ACIag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/beretta-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "pizza"^^com.yelp:restaurant_cuisine("Pizza"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3798, geo=new Location(37.753869, -122.420611, "1199 Valencia St, San Francisco, CA 94110"), phone="+14156951199"^^tt:phone_number },
C:   { id="wEpiKz--Z2b1q_FSCCNiow"^^com.yelp:restaurant("Lolinda"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/M8J3ehcOIRRI8ys1Q0hxtw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lolinda-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["steak"^^com.yelp:restaurant_cuisine("Steakhouses"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates"), "latin"^^com.yelp:restaurant_cuisine("Latin American")], price=enum expensive, rating=4, review_count=2057, geo=new Location(37.7566658, -122.419116, "2518 Mission St, San Francisco, CA 94110"), phone="+14155506970"^^tt:phone_number },
C:   { id="JARsJVKLPgs_yC3cwDnp7g"^^com.yelp:restaurant("La Taqueria"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/7LqVKYVg2GdEFKI2CFL4cA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-taqueria-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=4, review_count=4229, geo=new Location(37.75088, -122.41805, "2889 Mission St, San Francisco, CA 94110"), phone="+14152857117"^^tt:phone_number },
C:   { id="r7RwvYMwxDuK3u26fHbYDA"^^com.yelp:restaurant("Limón"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/uJAt6_k4J35gIFsC6FtWWg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lim%C3%B3n-san-francisco-7?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["peruvian"^^com.yelp:restaurant_cuisine("Peruvian"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=3276, geo=new Location(37.7570514, -122.416461, "1001 S Van Ness Ave, San Francisco, CA 94110"), phone="+14158212134"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I see Tartine Bakery, Liholiho Yacht Club, and El Farolito. Tartine Bakery is a restaurant rated 4 star, Liholiho Yacht Club is rated 4.5 star, and El Farolito is rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: how about a cafe there
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("cafe")) && geo == new Location(37.75993, -122.4191376, "Mission District, San Francisco, CA 90103");
====
# recording/192200bd3893d06c3cda546bdf915ce9
U: what's a good restaurant in san francisco mission district
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("san francisco mission district");
====
# recording/5092a5f73081f35e336aeffd0ad88e1c
U: restaurants in saratoga
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("saratoga");
====
# log-dev/13038
U: can you recommend a good mexican restaurant in san francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) && geo == new Location("san francisco");
====
# log-dev/12964
U: find a great restaurant for dim sum in hong kong.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("dim sum")) && geo == new Location("hong kong");
====
# log-dev/12755
U: tell me the best taco joint in palo alto.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("taco")) && geo == new Location("palo alto"))[1];
====
# log-dev/12723
U: what's a good restaurant in los altos
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("los altos");
====
# log-dev/12654
U: what's the address of gosh, one restaurant in palo alto?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant() filter geo == new Location("palo alto");
====
# log-dev/12652
U: find a good restaurant in los gatos.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("los gatos");
====
# log-dev/12651
U: what's the best italian restaurant in denver, co?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) && geo == new Location("denver , co"))[1];
====
# log-dev/12650
U: can you find me a restaurant in denver, co?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("denver , co");
====
# log-dev/12379
U: find me a mexican restaurant in palo alto.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) && geo == new Location("palo alto");
====
# log-dev/12341
U: find me a chinese restaurant in palo alto.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location("palo alto");
====
# log-dev/12003
U: find me some good italian restaurants in san francisco.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) && geo == new Location("san francisco");
====
# log-dev/11983
U: find me a chinese restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# recording/d285e41acb65d818dd8b1f8eb9c44058
U: where is the closest Krispy Kreme?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of sort(distance(geo, $location.current_location) asc of @com.yelp.restaurant() filter id =~ "krispy kreme")[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: [geo] of sort(distance(geo, new Location(37.4443293, -122.1598465, "Palo Alto, California")) asc of @com.yelp.restaurant() filter id =~ "krispy kreme")[1]
C: #[results=[]];
A: Sorry, there are no restaurants matching your request.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_empty_search;
U: Like, hey genewhere is the closest donut place?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of sort(distance(geo, new Location(37.4443293, -122.1598465, "Palo Alto, California")) asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("donut")))[1];
====
# recording/40bb91a1998f615e2cdc6183073aa888
U: find a restaurant in the Mission district.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mission district");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.75993, -122.4191376, "Mission District, San Francisco, California")
C: #[results=[
C:   { id="ri7UUYmx21AgSpRsf4-9QA"^^com.yelp:restaurant("Tartine Bakery"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/nPUUXYVVa3CHJh5yzH8Xnw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-bakery-san-francisco-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cafes"^^com.yelp:restaurant_cuisine("Cafes")], price=enum moderate, rating=4, review_count=8182, geo=new Location(37.76131, -122.42431, "600 Guerrero St, San Francisco, CA"), phone="+14154872600"^^tt:phone_number },
C:   { id="KkAVX3Wb7E3lP5F_f_8pXg"^^com.yelp:restaurant("Liholiho Yacht Club"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/DluAA2YbM8k6qRM_mwbiNw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/liholiho-yacht-club-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum expensive, rating=4.5, review_count=2488, geo=new Location(37.7618143, -122.42296790220479, "3560 18th St, San Francisco, CA"), phone="+14155897266"^^tt:phone_number },
C:   { id="SGRmnarrNuVEsAjYdEoA0w"^^com.yelp:restaurant("El Farolito"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/kYemXiMcYje-Da7AjPtWcg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/el-farolito-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum cheap, rating=4, review_count=5064, geo=new Location(37.75265, -122.41812, "2779 Mission St, San Francisco, CA"), phone="+14158247877"^^tt:phone_number },
C:   { id="n6L5VIGunR51-D55C-eYeQ"^^com.yelp:restaurant("Foreign Cinema"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/cw5y2LSOIE-EVNjKK_d7SQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/foreign-cinema-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum expensive, rating=4, review_count=5018, geo=new Location(37.75637, -122.41925, "2534 Mission St, San Francisco, CA"), phone="+14156487600"^^tt:phone_number },
C:   { id="1hMD7RQogPDWpE-p3LKjXA"^^com.yelp:restaurant("Loló"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/QimJjz8ECFnevPcssJYfTw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lol%C3%B3-san-francisco-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=2282, geo=new Location(37.7573462, -122.4214034, "974 Valencia St, San Francisco, CA"), phone="+14156435656"^^tt:phone_number },
C:   { id="8kck3-K4zYKTJbJko0JlXQ"^^com.yelp:restaurant("Farmhouse Kitchen Thai Cuisine"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/kUlEaPpv0JGlHG_nrPr7wQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/farmhouse-kitchen-thai-cuisine-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["thai"^^com.yelp:restaurant_cuisine("Thai"), "comfortfood"^^com.yelp:restaurant_cuisine("Comfort Food")], price=enum moderate, rating=4, review_count=2962, geo=new Location(37.760192883932795, -122.4114188698492, "710 Florida St, San Francisco, CA"), phone="+14158142920"^^tt:phone_number },
C:   { id="4KfQnlcSu4bbTqnvGdGptw"^^com.yelp:restaurant("Beretta"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/HKxMJ8q8fzOY76hy7ACIag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/beretta-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "pizza"^^com.yelp:restaurant_cuisine("Pizza"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3828, geo=new Location(37.753869, -122.420611, "1199 Valencia St, San Francisco, CA"), phone="+14156951199"^^tt:phone_number },
C:   { id="wEpiKz--Z2b1q_FSCCNiow"^^com.yelp:restaurant("Lolinda"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/M8J3ehcOIRRI8ys1Q0hxtw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lolinda-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["steak"^^com.yelp:restaurant_cuisine("Steakhouses"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates"), "latin"^^com.yelp:restaurant_cuisine("Latin American")], price=enum expensive, rating=4, review_count=2070, geo=new Location(37.7566658, -122.419116, "2518 Mission St, San Francisco, CA"), phone="+14155506970"^^tt:phone_number },
C:   { id="JARsJVKLPgs_yC3cwDnp7g"^^com.yelp:restaurant("La Taqueria"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/7LqVKYVg2GdEFKI2CFL4cA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-taqueria-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=4, review_count=4250, geo=new Location(37.75088, -122.41805, "2889 Mission St, San Francisco, CA"), phone="+14152857117"^^tt:phone_number },
C:   { id="r7RwvYMwxDuK3u26fHbYDA"^^com.yelp:restaurant("Limón"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/uJAt6_k4J35gIFsC6FtWWg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lim%C3%B3n-san-francisco-7?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["peruvian"^^com.yelp:restaurant_cuisine("Peruvian"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=3305, geo=new Location(37.7570514, -122.416461, "1001 S Van Ness Ave, San Francisco, CA"), phone="+14158212134"^^tt:phone_number }
C: ]]
C: #[count=19];
A: I see Tartine Bakery, Liholiho Yacht Club, and El Farolito. Tartine Bakery is rated 4 stars, Liholiho Yacht Club is rated 4.5 stars, and El Farolito is rated 4 stars.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: thank you.
UT: $dialogue @org.thingpedia.dialogue.transaction.cancel;
====
# recording/f59db00cdba55e29b624b3e2c23dbcb1
U: Oh hey Jeannie.Find me a restaurant in Palo Alto.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("palo alto");
====
# recording/3adfe8a15e48767368fed4502921bc5d
U: where's the closest sushi place?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of sort(distance(geo, $location.current_location) asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("sushi")))[1];
====
# recording/642a3973e77ab2b3b3a3d7bb7f5b9be4
U: find a restaurant in Palo Alto open right now.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, $now) && geo == new Location("palo alto");
====
# recording/8a2fa77a39b8c01f2106ef4572bd1278
U: find me an ice cream store.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream"));
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "icecream"^^com.yelp:restaurant_cuisine("ice cream"))
C: #[results=[]];
A: Sorry, there are no restaurants matching your request.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_empty_search;
U: find me an ice cream store.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream"));
====
# recording/78f45d000a12e6f5a6e605250b00a966
U: What is the closest Italian restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, $location.current_location) asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(distance(geo, new Location(37.4443293, -122.1598465, "Palo Alto, California")) asc of @com.yelp.restaurant() filter contains(cuisines, "italian"^^com.yelp:restaurant_cuisine("Italian")))[1]
C: #[results=[
C:   { id="mvFvBjVC6bFRXmf9iGPvzQ"^^com.yelp:restaurant("Buca di Beppo Italian Restaurant"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/A3E_DQk_kenXhqq13F8Jbw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/buca-di-beppo-italian-restaurant-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=3, review_count=969, geo=new Location(37.44355, -122.16053, "643 Emerson St, Palo Alto, CA"), phone="+16503290665"^^tt:phone_number }
C: ]];
A: I see Buca di Beppo Italian Restaurant. It is a Italian restaurant rated 3 stars.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what is its phone number?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of sort(distance(geo, new Location(37.4443293, -122.1598465, "Palo Alto, California")) asc of @com.yelp.restaurant() filter contains(cuisines, "italian"^^com.yelp:restaurant_cuisine("Italian")) && id == "mvFvBjVC6bFRXmf9iGPvzQ"^^com.yelp:restaurant("Buca di Beppo Italian Restaurant"))[1];
====
# recording/8f0cb0886aa66528589b9dc9e772d897
U: find me an ice cream store.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream"));
====
# recording/25feda9ea689610c8279cc28eb2a4354
U: find me a restaurant in Mission Dolores Park.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mission dolores park");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.7597203, -122.4271322952394, "Mission Dolores Park, San Francisco, California")
C: #[results=[
C:   { id="ri7UUYmx21AgSpRsf4-9QA"^^com.yelp:restaurant("Tartine Bakery"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/nPUUXYVVa3CHJh5yzH8Xnw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-bakery-san-francisco-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cafes"^^com.yelp:restaurant_cuisine("Cafes")], price=enum moderate, rating=4, review_count=8182, geo=new Location(37.76131, -122.42431, "600 Guerrero St, San Francisco, CA"), phone="+14154872600"^^tt:phone_number },
C:   { id="KkAVX3Wb7E3lP5F_f_8pXg"^^com.yelp:restaurant("Liholiho Yacht Club"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/DluAA2YbM8k6qRM_mwbiNw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/liholiho-yacht-club-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum expensive, rating=4.5, review_count=2488, geo=new Location(37.7618143, -122.42296790220479, "3560 18th St, San Francisco, CA"), phone="+14155897266"^^tt:phone_number },
C:   { id="SGRmnarrNuVEsAjYdEoA0w"^^com.yelp:restaurant("El Farolito"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/kYemXiMcYje-Da7AjPtWcg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/el-farolito-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum cheap, rating=4, review_count=5064, geo=new Location(37.75265, -122.41812, "2779 Mission St, San Francisco, CA"), phone="+14158247877"^^tt:phone_number },
C:   { id="n6L5VIGunR51-D55C-eYeQ"^^com.yelp:restaurant("Foreign Cinema"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/cw5y2LSOIE-EVNjKK_d7SQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/foreign-cinema-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum expensive, rating=4, review_count=5018, geo=new Location(37.75637, -122.41925, "2534 Mission St, San Francisco, CA"), phone="+14156487600"^^tt:phone_number },
C:   { id="XQLmEdXoMzOpffwoFaBtaQ"^^com.yelp:restaurant("Kitchen Story"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/XIhdtd0fB2P_v_qhh1hWbg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/kitchen-story-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=3589, geo=new Location(37.7642352, -122.4306936, "3499 16th St, San Francisco, CA"), phone="+14155254905"^^tt:phone_number },
C:   { id="4KfQnlcSu4bbTqnvGdGptw"^^com.yelp:restaurant("Beretta"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/HKxMJ8q8fzOY76hy7ACIag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/beretta-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "pizza"^^com.yelp:restaurant_cuisine("Pizza"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3828, geo=new Location(37.753869, -122.420611, "1199 Valencia St, San Francisco, CA"), phone="+14156951199"^^tt:phone_number },
C:   { id="1hMD7RQogPDWpE-p3LKjXA"^^com.yelp:restaurant("Loló"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/QimJjz8ECFnevPcssJYfTw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lol%C3%B3-san-francisco-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=2282, geo=new Location(37.7573462, -122.4214034, "974 Valencia St, San Francisco, CA"), phone="+14156435656"^^tt:phone_number },
C:   { id="ZDvIMjJ-7I0561ckM4pAeA"^^com.yelp:restaurant("Anchor Oyster Bar"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/oKLPo1042ojJJC9OcCzAMw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/anchor-oyster-bar-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4.5, review_count=1552, geo=new Location(37.759689, -122.434609, "579 Castro St, San Francisco, CA"), phone="+14154313990"^^tt:phone_number },
C:   { id="JARsJVKLPgs_yC3cwDnp7g"^^com.yelp:restaurant("La Taqueria"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/7LqVKYVg2GdEFKI2CFL4cA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-taqueria-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=4, review_count=4250, geo=new Location(37.75088, -122.41805, "2889 Mission St, San Francisco, CA"), phone="+14152857117"^^tt:phone_number },
C:   { id="CYttYTEiQuhSfo3SEh79fA"^^com.yelp:restaurant("Shizen Vegan Sushi Bar & Izakaya"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/-1BWnyjrsDmTmXH_3wZl_w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/shizen-vegan-sushi-bar-and-izakaya-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "izakaya"^^com.yelp:restaurant_cuisine("Izakaya")], price=enum moderate, rating=4.5, review_count=1801, geo=new Location(37.768326, -122.421682, "370 14th St, San Francisco, CA"), phone="+14156785767"^^tt:phone_number }
C: ]]
C: #[count=19];
A: I see Tartine Bakery, Liholiho Yacht Club, and El Farolito. Tartine Bakery is rated 4 stars, Liholiho Yacht Club is rated 4.5 stars, and El Farolito is rated 4 stars.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: what's the phone number?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of @com.yelp.restaurant() filter geo == new Location(37.7597203, -122.4271322952394, "Mission Dolores Park, San Francisco, California");
====
# recording/acbd23e2c9a699c0d4fa4e42289e50e7
U: find me an ice cream restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream"));
====
# recording/14ccf67952ede309c3d474b6573e67bd
U: what's a good place to eat in dolores park
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("dolores park");
====
# recording/d5bc49ee5502dd931f0d24765e6beed4
U: Find me a restaurant in mountain.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mountain");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(48.6843951, -97.8652374, "Mountain")
C: #[results=[]];
A: Sorry, there are no restaurants matching your request.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_empty_search;
U: Find me a restaurant in Mountain View.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mountain view");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(48.6843951, -97.8652374, "Mountain")
C: #[results=[]];
C: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California")
C: #[results=[
C:   { id="K6IdrX5prUvA5iAMCdQfGw"^^com.yelp:restaurant("Cascal"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/FMVyuURiQeX2fBpR8V921g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cascal-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["tapas"^^com.yelp:restaurant_cuisine("Tapas Bars"), "spanish"^^com.yelp:restaurant_cuisine("Spanish")], price=enum moderate, rating=3.5, review_count=3059, geo=new Location(37.39117, -122.0813, "400 Castro St, Mountain View, CA 94041"), phone="+16509409500"^^tt:phone_number },
C:   { id="j2rJ3W5c_CZ2tQh2QJ4oUA"^^com.yelp:restaurant("Sushi Tomi"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/MsknJSZnkzqf_BdgHr7SJQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sushi-tomi-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.3915303378286, -122.07806645178, "635 W Dana St, Mountain View, CA 94040"), phone="+16509683227"^^tt:phone_number },
C:   { id="cm8oHti0SIPPqR8PcmcSvA"^^com.yelp:restaurant("Garden Fresh"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/EnKogtsi9rjeTVAbGjTY7Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/garden-fresh-mountain-view-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "soup"^^com.yelp:restaurant_cuisine("Soup")], price=enum moderate, rating=4, review_count=1340, geo=new Location(37.387904, -122.089053, "1245 W El Camino Real, Mountain View, CA 94040"), phone="+16502541688"^^tt:phone_number },
C:   { id="5Pik34EY1zRXYQGzBV_d8g"^^com.yelp:restaurant("Vaso Azzurro Ristorante"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/PvEzrsQaHpL57IrLNDQNcQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/vaso-azzurro-ristorante-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1758, geo=new Location(37.394946, -122.078608, "108 Castro St, Mountain View, CA 94041"), phone="+16509401717"^^tt:phone_number },
C:   { id="YQrIesXAfl772IPHQbp4LA"^^com.yelp:restaurant("Maru Ichi"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/rCyOhgFYg7g0D4Zt06idfA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/maru-ichi-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=3.5, review_count=1828, geo=new Location(37.391902, -122.0805266, "368 Castro St, Mountain View, CA 94041"), phone="+16505649931"^^tt:phone_number },
C:   { id="vRhk8dBqWuGPG03E-Ev2nQ"^^com.yelp:restaurant("Xanh Restaurant"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/X0TjiHpPWOiDDD0ADx9PYw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/xanh-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum moderate, rating=3.5, review_count=2036, geo=new Location(37.395083168506105, -122.0786624, "110 Castro St, Mountain View, CA 94041"), phone="+16509641888"^^tt:phone_number },
C:   { id="k-wNY6uyQZMHo9xFu-1bFg"^^com.yelp:restaurant("Superhot Hotpot & Korean BBQ"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/YCeP2pnPqRqILsmfMJZ5_g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/superhot-hotpot-and-korean-bbq-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["korean"^^com.yelp:restaurant_cuisine("Korean"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=693, geo=new Location(37.39329, -122.07813, "210 Hope St, Mountain View, CA 94041"), phone="+16509639819"^^tt:phone_number },
C:   { id="OsZ3ikKf22bqsy7NyOfgAA"^^com.yelp:restaurant("Caspian Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/a0fyCpZqb8PujWBU_Mi8wA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/caspian-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "persian"^^com.yelp:restaurant_cuisine("Persian/Iranian"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4.5, review_count=646, geo=new Location(37.394157410448, -122.0968849491085, "1910 W EI Camino Real, Mountain View, CA 94040"), phone="+16509677752"^^tt:phone_number },
C:   { id="5SFgMsPJc4VjfHpCyCnINg"^^com.yelp:restaurant("Doppio Zero"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/JURDKPRJOO6p1MJ1qXSmbA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/doppio-zero-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1050, geo=new Location(37.394436, -122.078926, "160 Castro St, Mountain View, CA 94041"), phone="+16509384147"^^tt:phone_number },
C:   { id="ud9ocsQHI7h3zNO7FdOFYQ"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ExzkehEv1MEIvEoNdtDOgw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-mountain-view-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["halal"^^com.yelp:restaurant_cuisine("Halal"), "indpak"^^com.yelp:restaurant_cuisine("Indian"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1892, geo=new Location(37.4161698674427, -122.079413779972, "1477 Plymouth St, Ste C, Mountain View, CA 94043"), phone="+16506286100"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I see Cascal, Sushi Tomi, and Garden Fresh. They're moderate restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: Find me an expensive one.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California") && price == enum expensive;
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(48.6843951, -97.8652374, "Mountain")
C: #[results=[]];
C: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California")
C: #[results=[
C:   { id="K6IdrX5prUvA5iAMCdQfGw"^^com.yelp:restaurant("Cascal"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/FMVyuURiQeX2fBpR8V921g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cascal-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["tapas"^^com.yelp:restaurant_cuisine("Tapas Bars"), "spanish"^^com.yelp:restaurant_cuisine("Spanish")], price=enum moderate, rating=3.5, review_count=3059, geo=new Location(37.39117, -122.0813, "400 Castro St, Mountain View, CA 94041"), phone="+16509409500"^^tt:phone_number },
C:   { id="j2rJ3W5c_CZ2tQh2QJ4oUA"^^com.yelp:restaurant("Sushi Tomi"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/MsknJSZnkzqf_BdgHr7SJQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sushi-tomi-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.3915303378286, -122.07806645178, "635 W Dana St, Mountain View, CA 94040"), phone="+16509683227"^^tt:phone_number },
C:   { id="cm8oHti0SIPPqR8PcmcSvA"^^com.yelp:restaurant("Garden Fresh"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/EnKogtsi9rjeTVAbGjTY7Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/garden-fresh-mountain-view-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "soup"^^com.yelp:restaurant_cuisine("Soup")], price=enum moderate, rating=4, review_count=1340, geo=new Location(37.387904, -122.089053, "1245 W El Camino Real, Mountain View, CA 94040"), phone="+16502541688"^^tt:phone_number },
C:   { id="5Pik34EY1zRXYQGzBV_d8g"^^com.yelp:restaurant("Vaso Azzurro Ristorante"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/PvEzrsQaHpL57IrLNDQNcQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/vaso-azzurro-ristorante-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1758, geo=new Location(37.394946, -122.078608, "108 Castro St, Mountain View, CA 94041"), phone="+16509401717"^^tt:phone_number },
C:   { id="YQrIesXAfl772IPHQbp4LA"^^com.yelp:restaurant("Maru Ichi"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/rCyOhgFYg7g0D4Zt06idfA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/maru-ichi-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=3.5, review_count=1828, geo=new Location(37.391902, -122.0805266, "368 Castro St, Mountain View, CA 94041"), phone="+16505649931"^^tt:phone_number },
C:   { id="vRhk8dBqWuGPG03E-Ev2nQ"^^com.yelp:restaurant("Xanh Restaurant"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/X0TjiHpPWOiDDD0ADx9PYw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/xanh-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum moderate, rating=3.5, review_count=2036, geo=new Location(37.395083168506105, -122.0786624, "110 Castro St, Mountain View, CA 94041"), phone="+16509641888"^^tt:phone_number },
C:   { id="k-wNY6uyQZMHo9xFu-1bFg"^^com.yelp:restaurant("Superhot Hotpot & Korean BBQ"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/YCeP2pnPqRqILsmfMJZ5_g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/superhot-hotpot-and-korean-bbq-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["korean"^^com.yelp:restaurant_cuisine("Korean"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=693, geo=new Location(37.39329, -122.07813, "210 Hope St, Mountain View, CA 94041"), phone="+16509639819"^^tt:phone_number },
C:   { id="OsZ3ikKf22bqsy7NyOfgAA"^^com.yelp:restaurant("Caspian Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/a0fyCpZqb8PujWBU_Mi8wA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/caspian-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "persian"^^com.yelp:restaurant_cuisine("Persian/Iranian"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4.5, review_count=646, geo=new Location(37.394157410448, -122.0968849491085, "1910 W EI Camino Real, Mountain View, CA 94040"), phone="+16509677752"^^tt:phone_number },
C:   { id="5SFgMsPJc4VjfHpCyCnINg"^^com.yelp:restaurant("Doppio Zero"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/JURDKPRJOO6p1MJ1qXSmbA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/doppio-zero-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1050, geo=new Location(37.394436, -122.078926, "160 Castro St, Mountain View, CA 94041"), phone="+16509384147"^^tt:phone_number },
C:   { id="ud9ocsQHI7h3zNO7FdOFYQ"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ExzkehEv1MEIvEoNdtDOgw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-mountain-view-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["halal"^^com.yelp:restaurant_cuisine("Halal"), "indpak"^^com.yelp:restaurant_cuisine("Indian"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1892, geo=new Location(37.4161698674427, -122.079413779972, "1477 Plymouth St, Ste C, Mountain View, CA 94043"), phone="+16506286100"^^tt:phone_number }
C: ]]
C: #[count=50];
C: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California") && price == enum expensive
C: #[results=[
C:   { id="UIAJ4R2wJpOt-1fGYVGbqg"^^com.yelp:restaurant("Le Petit Bistro"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/aTaWJcjYJHz0CBXxP1hXDQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/le-petit-bistro-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["french"^^com.yelp:restaurant_cuisine("French")], price=enum expensive, rating=4, review_count=401, geo=new Location(37.3888368554634, -122.090781895431, "1405 W El Camino Real, Mountain View, CA 94040"), phone="+16509643321"^^tt:phone_number },
C:   { id="rRK_fof4VxtNB6_keG70OA"^^com.yelp:restaurant("Gochi - Mountain View"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/j7bkitERyrQR9w8_2C-sOA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/gochi-mountain-view-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum expensive, rating=4, review_count=386, geo=new Location(37.39337257629245, -122.09812220285534, "1943 W El Camino Real, Mountain View, CA 94040"), phone="+16509658301"^^tt:phone_number },
C:   { id="3qjl3TrEFGGNDv8J9YHIKg"^^com.yelp:restaurant("Sumika"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/8UMwGzey7wC7qBwlehtrwQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sumika-los-altos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum expensive, rating=4, review_count=1089, geo=new Location(37.379223, -122.11664, "236 Central Plz, Los Altos, CA 94022"), phone="+16509171822"^^tt:phone_number },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2496, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="d21yLIv0j4Cc2WVNsQAmZw"^^com.yelp:restaurant("Gochi - Cupertino"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/F8sJpyaQ2uyQC77GD-PUYA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/gochi-cupertino-cupertino?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "tapas"^^com.yelp:restaurant_cuisine("Tapas Bars")], price=enum expensive, rating=4, review_count=1936, geo=new Location(37.3368621985872, -122.022732496261, "19980 E Homestead Rd, Cupertino, CA 95014"), phone="+14087250542"^^tt:phone_number },
C:   { id="228MtApQZsrGTHy8psMmiw"^^com.yelp:restaurant("Galpão Gaucho Brazilian Steakhouse"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/8Co7lv8jW01z-rA4Cwlncg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/galp%C3%A3o-gaucho-brazilian-steakhouse-cupertino-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["brazilian"^^com.yelp:restaurant_cuisine("Brazilian")], price=enum expensive, rating=4.5, review_count=944, geo=new Location(37.3227351, -122.0191885, "19780 Stevens Creek Blvd, Cupertino, CA 95014"), phone="+14083662370"^^tt:phone_number },
C:   { id="8C_B-4cRVVUXHAEgQv1rCg"^^com.yelp:restaurant("Asa Restaurants | Los Altos"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/PuwEb46ScCfZ2sgb6D2ZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/asa-restaurants-los-altos-los-altos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "spanish"^^com.yelp:restaurant_cuisine("Spanish")], price=enum expensive, rating=4, review_count=288, geo=new Location(37.3795341694492, -122.116872145356, "242 State St, Los Altos, CA 94022"), phone="+16509352372"^^tt:phone_number },
C:   { id="ZV2zL3V24AxKsKIvlMPtEQ"^^com.yelp:restaurant("Jang Su Jang"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/1cEzAyVBUL_FHGo3-0uKFQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/jang-su-jang-santa-clara?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["korean"^^com.yelp:restaurant_cuisine("Korean"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum expensive, rating=4, review_count=2088, geo=new Location(37.353563, -121.994058, "3561 El Camino Real, Ste 10, Santa Clara, CA 95051"), phone="+14082461212"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1886, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="lj_i7YQw7MPgLkuseruWdQ"^^com.yelp:restaurant("Telefèric Barcelona"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/6e9e6mtOPC9ccqETykIrdQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/telef%C3%A8ric-barcelona-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["spanish"^^com.yelp:restaurant_cuisine("Spanish"), "tapas"^^com.yelp:restaurant_cuisine("Tapas Bars")], price=enum expensive, rating=4, review_count=812, geo=new Location(37.4383, -122.158361, "855 El Camino Real, Ste 130, Palo Alto, CA 94301"), phone="+16503210512"^^tt:phone_number }
C: ]]
C: #[count=46];
A: I see Le Petit Bistro, Gochi - Mountain View, and Sumika. They're expensive restaurants rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: What's the closest one?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, $location.current_location) asc of @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California") && price == enum expensive)[1];
====
# recording/5a5a40d62d93a6092e605652e7c3d61e
U: find a Chinese restaurant open at 4:00 PM.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && contains(opening_hours, set_time($now, new Time(16, 0)));
====
# recording/7548716f003e28ac082228614fefee97
U: What's the best Mexican restaurant in Redwood City?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) && geo == new Location("redwood city"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0)))
C: #[results=[]];
C: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0)))
C: #[results=[
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/T7t7eyLiLIntkiH61HhI3Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1442, geo=new Location(37.42675, -122.14404, "365 S California Ave, Palo Alto, CA 94306"), phone="+16505628700"^^tt:phone_number },
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/M_R1GHVgPC8rS-KnkaPALA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=1174, geo=new Location(37.429495, -122.12274, "3191 Middlefield Rd, Palo Alto, CA 94303"), phone="+16502519798"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2379, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="GViud5vyi4IxkZ-g6FYuaA"^^com.yelp:restaurant("Mediterranean Wraps"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LnU4ucAWzqP1twWguAfhvg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mediterranean-wraps-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum moderate, rating=4, review_count=1047, geo=new Location(37.4259033203125, -122.144721984863, "433 S California Ave, Palo Alto, CA 94306"), phone="+16503218189"^^tt:phone_number },
C:   { id="hl2yriEDrXYTj1XFjaImGg"^^com.yelp:restaurant("Fambrini's Cafe"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/i20LGOuso7AsXVrOW18Rag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/fambrinis-cafe-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches"), "salad"^^com.yelp:restaurant_cuisine("Salad"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4.5, review_count=597, geo=new Location(37.4242609, -122.1449674, "2500 El Camino Real, Palo Alto, CA 94306"), phone="+16508581268"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/sFr91fN0iGlhhSO21S01Jg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=817, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/eoOED41qKM_HEp1nVMaHTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crepevine-restaurants-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "creperies"^^com.yelp:restaurant_cuisine("Crepes"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=1389, geo=new Location(37.44698, -122.161, "367 University Ave, Palo Alto, CA 94301"), phone="+16503233900"^^tt:phone_number },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/4OvcoE7WgF5UVlh-_KEndQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-creamery-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["diners"^^com.yelp:restaurant_cuisine("Diners"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=1415, geo=new Location(37.4438831241214, -122.16178176729, "566 Emerson St, Palo Alto, CA 94301"), phone="+16503233131"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LoHpONFnkKAvdtovWU5phg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian")], price=enum moderate, rating=4, review_count=1255, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="fxnUYgv4gOlyV6BjCanijQ"^^com.yelp:restaurant("Driftwood Deli and Market"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/fQdMKbdjwRTYYW2r5ZYjtg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/driftwood-deli-and-market-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["delis"^^com.yelp:restaurant_cuisine("Delis"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4.5, review_count=433, geo=new Location(37.41912090543142, -122.13494795495569, "3450 El Camino Real, Palo Alto, CA 94306"), phone="+16504934162"^^tt:phone_number }
C: ]]
C: #[count=20];
C: [opening_hours] of @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0))) && id == "_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee")
C: #[results=[
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), opening_hours=new RecurrentTimeSpecification({ beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum monday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum tuesday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum wednesday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum thursday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum friday }, { beginTime=new Time(6, 0), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum saturday }, { beginTime=new Time(6, 0), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum sunday }) }
C: ]];
C: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California"))[1]
C: #[results=[
C:   { id="mQ3IEOvlWVl5ORYpQx-Hyg"^^com.yelp:restaurant("La Fonda De Los Carnalitos"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/OwiTEOfpmSIQ-ja12QiY-Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-fonda-de-los-carnalitos-redwood-city-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], rating=5, review_count=38, geo=new Location(37.49025, -122.22893, "820 Veterans Blvd, Redwood City, CA 94063"), phone="+16503623069"^^tt:phone_number }
C: ]];
A: The top rated restaurant is La Fonda De Los Carnalitos. It is a restaurant near 820 Veterans Blvd, Redwood City, CA 94063 rated 5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: is it open right now.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [opening_hours] of sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California") && id == "mQ3IEOvlWVl5ORYpQx-Hyg"^^com.yelp:restaurant("La Fonda De Los Carnalitos"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0)))
C: #[results=[]];
C: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0)))
C: #[results=[
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/T7t7eyLiLIntkiH61HhI3Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1442, geo=new Location(37.42675, -122.14404, "365 S California Ave, Palo Alto, CA 94306"), phone="+16505628700"^^tt:phone_number },
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/M_R1GHVgPC8rS-KnkaPALA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=1174, geo=new Location(37.429495, -122.12274, "3191 Middlefield Rd, Palo Alto, CA 94303"), phone="+16502519798"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2379, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="GViud5vyi4IxkZ-g6FYuaA"^^com.yelp:restaurant("Mediterranean Wraps"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LnU4ucAWzqP1twWguAfhvg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mediterranean-wraps-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum moderate, rating=4, review_count=1047, geo=new Location(37.4259033203125, -122.144721984863, "433 S California Ave, Palo Alto, CA 94306"), phone="+16503218189"^^tt:phone_number },
C:   { id="hl2yriEDrXYTj1XFjaImGg"^^com.yelp:restaurant("Fambrini's Cafe"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/i20LGOuso7AsXVrOW18Rag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/fambrinis-cafe-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches"), "salad"^^com.yelp:restaurant_cuisine("Salad"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4.5, review_count=597, geo=new Location(37.4242609, -122.1449674, "2500 El Camino Real, Palo Alto, CA 94306"), phone="+16508581268"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/sFr91fN0iGlhhSO21S01Jg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=817, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/eoOED41qKM_HEp1nVMaHTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crepevine-restaurants-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "creperies"^^com.yelp:restaurant_cuisine("Crepes"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=1389, geo=new Location(37.44698, -122.161, "367 University Ave, Palo Alto, CA 94301"), phone="+16503233900"^^tt:phone_number },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/4OvcoE7WgF5UVlh-_KEndQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-creamery-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["diners"^^com.yelp:restaurant_cuisine("Diners"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=1415, geo=new Location(37.4438831241214, -122.16178176729, "566 Emerson St, Palo Alto, CA 94301"), phone="+16503233131"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LoHpONFnkKAvdtovWU5phg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian")], price=enum moderate, rating=4, review_count=1255, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="fxnUYgv4gOlyV6BjCanijQ"^^com.yelp:restaurant("Driftwood Deli and Market"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/fQdMKbdjwRTYYW2r5ZYjtg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/driftwood-deli-and-market-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["delis"^^com.yelp:restaurant_cuisine("Delis"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4.5, review_count=433, geo=new Location(37.41912090543142, -122.13494795495569, "3450 El Camino Real, Palo Alto, CA 94306"), phone="+16504934162"^^tt:phone_number }
C: ]]
C: #[count=20];
C: [opening_hours] of @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0))) && id == "_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee")
C: #[results=[
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), opening_hours=new RecurrentTimeSpecification({ beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum monday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum tuesday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum wednesday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum thursday }, { beginTime=new Time(5, 30), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum friday }, { beginTime=new Time(6, 0), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum saturday }, { beginTime=new Time(6, 0), endTime=new Time(19, 0), interval=86400000ms, dayOfWeek=enum sunday }) }
C: ]];
C: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California"))[1]
C: #[results=[
C:   { id="mQ3IEOvlWVl5ORYpQx-Hyg"^^com.yelp:restaurant("La Fonda De Los Carnalitos"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/OwiTEOfpmSIQ-ja12QiY-Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-fonda-de-los-carnalitos-redwood-city-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], rating=5, review_count=38, geo=new Location(37.49025, -122.22893, "820 Veterans Blvd, Redwood City, CA 94063"), phone="+16503623069"^^tt:phone_number }
C: ]];
C: [opening_hours] of sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California") && id == "mQ3IEOvlWVl5ORYpQx-Hyg"^^com.yelp:restaurant("La Fonda De Los Carnalitos"))[1]
C: #[results=[
C:   { id="mQ3IEOvlWVl5ORYpQx-Hyg"^^com.yelp:restaurant("La Fonda De Los Carnalitos"), opening_hours=new RecurrentTimeSpecification({ beginTime=new Time(10, 0), endTime=new Time(21, 0), interval=86400000ms, dayOfWeek=enum monday }, { beginTime=new Time(10, 0), endTime=new Time(21, 0), interval=86400000ms, dayOfWeek=enum tuesday }, { beginTime=new Time(10, 0), endTime=new Time(21, 0), interval=86400000ms, dayOfWeek=enum wednesday }, { beginTime=new Time(10, 0), endTime=new Time(21, 0), interval=86400000ms, dayOfWeek=enum thursday }, { beginTime=new Time(10, 0), endTime=new Time(22, 0), interval=86400000ms, dayOfWeek=enum friday }, { beginTime=new Time(10, 0), endTime=new Time(22, 0), interval=86400000ms, dayOfWeek=enum saturday }) }
C: ]];
A: La Fonda De Los Carnalitos opens from 10:00 AM to 9:00 PM Monday to Thursday and from 10:00 AM to 10:00 PM on Friday and Saturday.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: Find a restaurant open at 12:00 PM on Sunday.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && contains(opening_hours, new Date(enum sunday, new Time(12, 0))) && geo == new Location(37.4863239, -122.232523, "Redwood City, California");
====
# recording/df8230dcee4ec13d5026edb1300066be
U: find the restaurant San Francisco.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("san francisco");
====
# recording/ed7921a84cf2ec753dbd5aafc69d20f3
U: find me the address of a restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo] of @com.yelp.restaurant();
====
# recording/9a9bd7552b23ec5e038c8db732822caf
U: find me a restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# recording/d8cd8026a0c4c52b1b9347f9cf145723
U: find a restaurant in Palo Alto open at 4:00 PM.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0))) && geo == new Location("palo alto");
====
# recording/ac88187bfb414fefa6eb226af592f521
U: find a restaurant that's open now.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, $now);
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(opening_hours, $now)
C: #[results=[
C:   { id="3b0yY-kCOG-1Eq9oamlSzw"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/T7t7eyLiLIntkiH61HhI3Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "halal"^^com.yelp:restaurant_cuisine("Halal"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1443, geo=new Location(37.42675, -122.14404, "365 S California Ave, Palo Alto, CA 94306"), phone="+16505628700"^^tt:phone_number },
C:   { id="_YDK0w05YAO99aQudHGpkA"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/wPisUIs3F-6r1RXhRKAjow/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=1174, geo=new Location(37.429495, -122.12274, "3191 Middlefield Rd, Palo Alto, CA 94303"), phone="+16502519798"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2379, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="GViud5vyi4IxkZ-g6FYuaA"^^com.yelp:restaurant("Mediterranean Wraps"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LnU4ucAWzqP1twWguAfhvg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mediterranean-wraps-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum moderate, rating=4, review_count=1047, geo=new Location(37.4259033203125, -122.144721984863, "433 S California Ave, Palo Alto, CA 94306"), phone="+16503218189"^^tt:phone_number },
C:   { id="hl2yriEDrXYTj1XFjaImGg"^^com.yelp:restaurant("Fambrini's Cafe"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/i20LGOuso7AsXVrOW18Rag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/fambrinis-cafe-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches"), "salad"^^com.yelp:restaurant_cuisine("Salad"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4.5, review_count=597, geo=new Location(37.4242609, -122.1449674, "2500 El Camino Real, Palo Alto, CA 94306"), phone="+16508581268"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/sFr91fN0iGlhhSO21S01Jg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=817, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/eoOED41qKM_HEp1nVMaHTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crepevine-restaurants-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "creperies"^^com.yelp:restaurant_cuisine("Crepes"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=1389, geo=new Location(37.44698, -122.161, "367 University Ave, Palo Alto, CA 94301"), phone="+16503233900"^^tt:phone_number },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/4OvcoE7WgF5UVlh-_KEndQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-creamery-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["diners"^^com.yelp:restaurant_cuisine("Diners"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=1415, geo=new Location(37.4438831241214, -122.16178176729, "566 Emerson St, Palo Alto, CA 94301"), phone="+16503233131"^^tt:phone_number },
C:   { id="T7EzfBA_AC3ys-S1McYsKA"^^com.yelp:restaurant("True Food Kitchen"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/LoHpONFnkKAvdtovWU5phg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/true-food-kitchen-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian")], price=enum moderate, rating=4, review_count=1255, geo=new Location(37.443921, -122.170323, "180 El Camino Real, Palo Alto, CA 94304"), phone="+16502725157"^^tt:phone_number },
C:   { id="fxnUYgv4gOlyV6BjCanijQ"^^com.yelp:restaurant("Driftwood Deli and Market"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/fQdMKbdjwRTYYW2r5ZYjtg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/driftwood-deli-and-market-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["delis"^^com.yelp:restaurant_cuisine("Delis"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum moderate, rating=4.5, review_count=433, geo=new Location(37.41912090543142, -122.13494795495569, "3450 El Camino Real, Palo Alto, CA 94306"), phone="+16504934162"^^tt:phone_number }
C: ]]
C: #[count=19];
A: I see Zareen's, Philz Coffee, and Oren's Hummus. Zareen's is rated 4.5 star, Philz Coffee is rated 4.5 star, and Oren's Hummus is rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: find an Italian one.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) && contains(opening_hours, $now);
====
# recording/ef51b81c8da64726244d3046f7d7fa80
U: Find me a Chinese restaurant in Redwood City.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location("redwood city");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California")
C: #[results=[
C:   { id="dLbBSJeyN85FIzHxb6oYtg"^^com.yelp:restaurant("Crouching Tiger Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mR3gvCna0eHJTTEglhrQww/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crouching-tiger-restaurant-and-bar-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=994, geo=new Location(37.48640133, -122.23424633, "2644 Broadway St, Redwood City, CA 94063"), phone="+16502988881"^^tt:phone_number },
C:   { id="aRu3VeiAZu4YKN9PvYvpYw"^^com.yelp:restaurant("I Dumpling"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/8__mq-BV_Xq6IKHhOH1_lA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/i-dumpling-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "taiwanese"^^com.yelp:restaurant_cuisine("Taiwanese"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=752, geo=new Location(37.486368908140925, -122.23466476656478, "2660 Broadway, Redwood City, CA 94063"), phone="+16505689789"^^tt:phone_number },
C:   { id="7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/NZRObUQiHmKDkBRHIMaseQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/redwood-bistro-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=348, geo=new Location(37.48712, -122.23548, "711 El Camino Real, Redwood City, CA 94063"), phone="+16502169988"^^tt:phone_number },
C:   { id="uMu3grYWk3ERsw8fXlFGvw"^^com.yelp:restaurant("Panda Dumpling"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/Wx98i3QzWFYJBZUkXFFZ3w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/panda-dumpling-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=643, geo=new Location(37.49904, -122.25199, "1195 Laurel St, San Carlos, CA 94070"), phone="+16505938888"^^tt:phone_number },
C:   { id="a6YM6lvO5ATmvnX3Ozdq9Q"^^com.yelp:restaurant("Hot Wok Bistro Too"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/JeGbwhkzpWZ2kkHUzFGaTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/hot-wok-bistro-too-san-carlos-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum cheap, rating=4, review_count=274, geo=new Location(37.4957223292802, -122.248010847522, "1541 Laurel St, San Carlos, CA 94070"), phone="+16506224979"^^tt:phone_number },
C:   { id="S8ecMU_Sx0esyI7YDC_5Yw"^^com.yelp:restaurant("Amazing Wok"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/PwbTj_RDUipr1ENVNMuyKA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/amazing-wok-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=340, geo=new Location(37.49475, -122.24667, "1653 Laurel St, San Carlos, CA 94070"), phone="+16505952031"^^tt:phone_number },
C:   { id="V5Ksvuzk71XhgNEwBLu7cg"^^com.yelp:restaurant("Chef Chen's"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/cswYIio1QB0N0LAefUt5jw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chef-chens-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum cheap, rating=3.5, review_count=182, geo=new Location(37.4902572631836, -122.228935241699, "820 Veterans Blvd, Ste D, Redwood City, CA 94063"), phone="+16502611377"^^tt:phone_number },
C:   { id="skl_-hT7wcOnFy8PAWrWKQ"^^com.yelp:restaurant("New Canton Restaurant"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/vcXTid_5Tyn3KpBI4vzpeA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/new-canton-restaurant-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=3.5, review_count=232, geo=new Location(37.4991, -122.25273, "1160 Laurel St, San Carlos, CA 94070"), phone="+16505914952"^^tt:phone_number }
C: ]];
A: I see Crouching Tiger Restaurant & Bar, I Dumpling, and Redwood Bistro. They're Chinese restaurants rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: what's the phone number of Redwood Bistro?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California") && id == null^^com.yelp:restaurant("redwood bistro");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California")
C: #[results=[
C:   { id="dLbBSJeyN85FIzHxb6oYtg"^^com.yelp:restaurant("Crouching Tiger Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/mR3gvCna0eHJTTEglhrQww/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crouching-tiger-restaurant-and-bar-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=994, geo=new Location(37.48640133, -122.23424633, "2644 Broadway St, Redwood City, CA 94063"), phone="+16502988881"^^tt:phone_number },
C:   { id="aRu3VeiAZu4YKN9PvYvpYw"^^com.yelp:restaurant("I Dumpling"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/8__mq-BV_Xq6IKHhOH1_lA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/i-dumpling-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "taiwanese"^^com.yelp:restaurant_cuisine("Taiwanese"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=752, geo=new Location(37.486368908140925, -122.23466476656478, "2660 Broadway, Redwood City, CA 94063"), phone="+16505689789"^^tt:phone_number },
C:   { id="7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/NZRObUQiHmKDkBRHIMaseQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/redwood-bistro-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=348, geo=new Location(37.48712, -122.23548, "711 El Camino Real, Redwood City, CA 94063"), phone="+16502169988"^^tt:phone_number },
C:   { id="uMu3grYWk3ERsw8fXlFGvw"^^com.yelp:restaurant("Panda Dumpling"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/Wx98i3QzWFYJBZUkXFFZ3w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/panda-dumpling-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=643, geo=new Location(37.49904, -122.25199, "1195 Laurel St, San Carlos, CA 94070"), phone="+16505938888"^^tt:phone_number },
C:   { id="a6YM6lvO5ATmvnX3Ozdq9Q"^^com.yelp:restaurant("Hot Wok Bistro Too"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/JeGbwhkzpWZ2kkHUzFGaTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/hot-wok-bistro-too-san-carlos-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum cheap, rating=4, review_count=274, geo=new Location(37.4957223292802, -122.248010847522, "1541 Laurel St, San Carlos, CA 94070"), phone="+16506224979"^^tt:phone_number },
C:   { id="S8ecMU_Sx0esyI7YDC_5Yw"^^com.yelp:restaurant("Amazing Wok"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/PwbTj_RDUipr1ENVNMuyKA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/amazing-wok-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=340, geo=new Location(37.49475, -122.24667, "1653 Laurel St, San Carlos, CA 94070"), phone="+16505952031"^^tt:phone_number },
C:   { id="V5Ksvuzk71XhgNEwBLu7cg"^^com.yelp:restaurant("Chef Chen's"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/cswYIio1QB0N0LAefUt5jw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chef-chens-redwood-city?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum cheap, rating=3.5, review_count=182, geo=new Location(37.4902572631836, -122.228935241699, "820 Veterans Blvd, Ste D, Redwood City, CA 94063"), phone="+16502611377"^^tt:phone_number },
C:   { id="skl_-hT7wcOnFy8PAWrWKQ"^^com.yelp:restaurant("New Canton Restaurant"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/vcXTid_5Tyn3KpBI4vzpeA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/new-canton-restaurant-san-carlos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=3.5, review_count=232, geo=new Location(37.4991, -122.25273, "1160 Laurel St, San Carlos, CA 94070"), phone="+16505914952"^^tt:phone_number }
C: ]];
C: [phone] of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California") && id == "7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro")
C: #[results=[
C:   { id="7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro"), phone="+16502169988"^^tt:phone_number }
C: ]];
A: Redwood Bistro is a restaurant with phone number (650) 2169988.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what are the opening hours?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [opening_hours] of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && geo == new Location(37.4863239, -122.232523, "Redwood City, California") && id == "7WLVcOSqcBJZG36_rdI3CA"^^com.yelp:restaurant("Redwood Bistro");
====
# recording/d35c936360d39a4454f2ea0babef374b
U: find me a restaurant in Palo Alto?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("palo alto");
====
# recording/358533efa200dd1f3653bf1952de5d63
U: Find a restaurant open at 4:00 PM.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, set_time($now, new Time(16, 0)));
====
# recording/7e87f7de331cc9233a04c6d8475a41da
U: Find me a Mexican restaurant and Palo Alto.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) && geo == new Location("palo alto");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "mexican"^^com.yelp:restaurant_cuisine("Mexican")) && geo == new Location(37.4443293, -122.1598465, "Palo Alto, California")
C: #[results=[
C:   { id="r6RztnVjcMq8wqI8o9ra_A"^^com.yelp:restaurant("Reposado"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/mmanr5ixLct2-QTn208agQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/reposado-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=3.5, review_count=1383, geo=new Location(37.4441703, -122.1610516, "236 Hamilton Ave, Palo Alto, CA 94301"), phone="+16508333151"^^tt:phone_number },
C:   { id="_L9p8ZvEmL3fVdjAmPv3NA"^^com.yelp:restaurant("Sancho's Taqueria"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/pkjAVBK5wS95Bh8NVycomA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sanchos-taqueria-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "sandwiches"^^com.yelp:restaurant_cuisine("Sandwiches")], price=enum cheap, rating=3.5, review_count=771, geo=new Location(37.4491, -122.1609, "491 Lytton Ave, Palo Alto, CA 94301"), phone="+16503228226"^^tt:phone_number },
C:   { id="dBsfy1YkK3wGW-pXsDdeAA"^^com.yelp:restaurant("Tacolicious"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/wHmrBL41PG_9YRa8QRNxPQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tacolicious-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "chickenshop"^^com.yelp:restaurant_cuisine("Chicken Shop")], price=enum moderate, rating=3.5, review_count=889, geo=new Location(37.44335, -122.16111, "632 Emerson St, Palo Alto, CA 94301") },
C:   { id="OOdQlU7rBxax_eG2cUD2sA"^^com.yelp:restaurant("San Agus Cocina Urbana & Cocktails"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/DrtQoSunI2wz-fVx0Kb3kQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/san-agus-cocina-urbana-and-cocktails-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=177, geo=new Location(37.443033, -122.1626755, "115 Hamilton Ave, Palo Alto, CA 94301"), phone="+16508471334"^^tt:phone_number },
C:   { id="mTUxSZYn01DZs5YTpdoTLw"^^com.yelp:restaurant("SUN of WOLF"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/txxe2DW7DZadnSd2UbBKeg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sun-of-wolf-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4.5, review_count=218, geo=new Location(37.42665, -122.14498, "406 California Ave, Palo Alto, CA 94306"), phone="+16503258888"^^tt:phone_number },
C:   { id="-X_yv6nSurDp-5V5iEC2tQ"^^com.yelp:restaurant("Mama Coco"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/_X_HtUUaJX3NiVLnlg4UZg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mama-coco-menlo-park-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=4, review_count=377, geo=new Location(37.4532544, -122.1827867, "1081 El Camino Real, Menlo Park, CA 94025"), phone="+16502726634"^^tt:phone_number },
C:   { id="v9d0Lx7-NiG8lVOWF2k0_w"^^com.yelp:restaurant("Palo Alto Sol"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/bEFlxm6KRXsFsQjQ7n8zKg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-sol-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=3.5, review_count=610, geo=new Location(37.42658759191792, -122.14484171808608, "408 S California Ave, Palo Alto, CA 94306"), phone="+16503288840"^^tt:phone_number },
C:   { id="OJ-W5kI7K4ef0tT9sbx3cQ"^^com.yelp:restaurant("Cafe Del Sol"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/DpiG7Qi4P4dfhd1Us3MsBA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cafe-del-sol-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "salad"^^com.yelp:restaurant_cuisine("Salad"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=373, geo=new Location(37.45253, -122.18247, "1010 Doyle St, Menlo Park, CA 94025"), phone="+16503262501"^^tt:phone_number },
C:   { id="OT8K9W2MUO-qfspK_2ktFQ"^^com.yelp:restaurant("Mami Cheli’s"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/VOPjnygijf3mPG1lLACGvQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mami-cheli-s-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum cheap, rating=4, review_count=164, geo=new Location(37.45257, -122.18169, "989 El Camino Real, Ste B, Menlo Park, CA 94025"), phone="+16505210636"^^tt:phone_number },
C:   { id="tJcGrLXB0zViCoEiYgcs1w"^^com.yelp:restaurant("LuLu’s - Town & Country"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/qy_qrXmPFYbjA_UyCm10rQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lulu-s-town-and-country-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=2.5, review_count=343, geo=new Location(37.43844, -122.159, "855 El Camino Real, Ste 49, Palo Alto, CA 94301"), phone="+16503278226"^^tt:phone_number }
C: ]];
A: I see Reposado, Sancho's Taqueria, and Tacolicious. They're Mexican restaurants rated 3.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: Find me a restaurant.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# recording/8f15a9cabdcf13d00c11459425dedd3a
U: What's the best restaurant that's open now?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(opening_hours, $now))[1];
====
# recording/26cbd717531cd40bca14469ba6c5eeda
U: Find me a restaurant that is open now with Italian food.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) && contains(opening_hours, $now);
====
# recording/e3b84bc9cf615fd203379c43c511fd3e
U: find a restaurant open now serving Italian food.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("italian")) && contains(opening_hours, $now);
====
# recording/ce674d202fd5f3b94114fc2df5567268
U: find a restaurant that's open for lunch tomorrow.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, set_time($end_of(day), new Time(12, 0)));
====
# recording/4ba1ae70d56f993fb3979a0040cfe0de
U: show me restaurants around stanford.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("stanford");
====
# recording/59c38f1442faf5ae2790590d3923dc8f
U: i want some japanese food
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("japanese"));
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "japanese"^^com.yelp:restaurant_cuisine("Japanese"))
C: #[results=[
C:   { id="APcouAOJlP0sdKZU3Ev_7w"^^com.yelp:restaurant("Odori Japanese Cuisine"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/fpIf_fClDVr8MFD8268AyQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/odori-japanese-cuisine-palo-alto-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "sushi"^^com.yelp:restaurant_cuisine("Sushi Bars")], price=enum moderate, rating=3.5, review_count=615, geo=new Location(37.4270973205566, -122.14794921875, "2111 El Camino Real, Palo Alto, CA 94306"), phone="+16503272222"^^tt:phone_number },
C:   { id="AUktvLJ9j7gANenwNga1fg"^^com.yelp:restaurant("Taro San Japanese Noodle Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/89qobB8Zp7uNq4_p3Zw01Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/taro-san-japanese-noodle-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "sushi"^^com.yelp:restaurant_cuisine("Sushi Bars")], price=enum moderate, rating=3.5, review_count=701, geo=new Location(37.4429175780446, -122.172707300397, "717 Stanford Shopping Ctr, Palo Alto, CA 94304"), phone="+16508152700"^^tt:phone_number },
C:   { id="LEp5w5lF3AD2UGRfolFoDQ"^^com.yelp:restaurant("YAYOI"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ebhtMam6i1HBJl83qaY4UQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/yayoi-palo-alto-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "comfortfood"^^com.yelp:restaurant_cuisine("Comfort Food")], price=enum moderate, rating=3.5, review_count=652, geo=new Location(37.44737, -122.16052, "403 University Ave, Palo Alto, CA 94301"), phone="+16504944437"^^tt:phone_number },
C:   { id="hvB8fOsqPmVAFFrnmAMz_w"^^com.yelp:restaurant("Daigo"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/_jmzzEfjpNb4fVXrlFBueA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/daigo-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4.5, review_count=172, geo=new Location(37.4278, -122.14425, "2363 Birch St, Ste B, Palo Alto, CA 94306"), phone="+16503846880"^^tt:phone_number },
C:   { id="WAo42c41_0Y0tifXbwuo8w"^^com.yelp:restaurant("Fuki Sushi"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/K84YCh7eNy0fxkUSLmVzyg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/fuki-sushi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum expensive, rating=3.5, review_count=894, geo=new Location(37.4138844, -122.125805, "4119 El Camino Real, Palo Alto, CA 94306"), phone="+16504949383"^^tt:phone_number },
C:   { id="xNNURK1vIGEDqwVb9pFRlg"^^com.yelp:restaurant("Go Fish Poke Bar"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/GCbABrUn_UArevjk--lwUg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/go-fish-poke-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "sushi"^^com.yelp:restaurant_cuisine("Sushi Bars")], price=enum moderate, rating=4, review_count=366, geo=new Location(37.4427026586894, -122.170617845337, "660 Stanford Shopping Ctr, Ste 244B, Palo Alto, CA 94304"), phone="+16503281370"^^tt:phone_number },
C:   { id="arrdif21CgXnCliP_Kcnjw"^^com.yelp:restaurant("Onigilly Palo Alto"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/ji-6Mbvur2YPPQ4XSFBwKg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/onigilly-palo-alto-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4, review_count=290, geo=new Location(37.44408, -122.16296, "164 University Ave, Palo Alto, CA 94301"), phone="+16503132104"^^tt:phone_number },
C:   { id="xcUJ7qlO60Cu-ZyCaD-23Q"^^com.yelp:restaurant("Jin Sho"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/kdCwUep8tyRy6xatkgoivg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/jin-sho-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["japanese"^^com.yelp:restaurant_cuisine("Japanese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "sushi"^^com.yelp:restaurant_cuisine("Sushi Bars")], price=enum expensive, rating=3.5, review_count=560, geo=new Location(37.42596, -122.14555, "454 S California Ave, Palo Alto, CA 94306"), phone="+16503213454"^^tt:phone_number },
C:   { id="64ClD5HpRafRXjQ79w0SYw"^^com.yelp:restaurant("Nobu Palo Alto"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/JYWEZlLP6ZLWAzVsgQRFKQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/nobu-palo-alto-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum luxury, rating=3.5, review_count=497, geo=new Location(37.4436, -122.16152, "180 Hamilton Ave, Palo Alto, CA 94301"), phone="+16507988396"^^tt:phone_number },
C:   { id="JnLNfQtW9GLGRF1pzAd55w"^^com.yelp:restaurant("Sushi House"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/6fbc1tdrD1tFqjYb6SM8tQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sushi-house-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=3.5, review_count=278, geo=new Location(37.4392332, -122.1582318, "855 El Camino Real, Ste 158, Palo Alto, CA 94301"), phone="+16503213453"^^tt:phone_number }
C: ]]
C: #[count=41];
A: I see Odori Japanese Cuisine, Taro San Japanese Noodle Bar, and YAYOI. They're moderate restaurants rated 3.5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: 4.5 star restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, "japanese"^^com.yelp:restaurant_cuisine("Japanese")) && rating == 4.5;
====
# recording/0b30e42c4578a08aac8fe0bc9b2638d4
U: chinese restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
====
# recording/75d5e1762fb0b1be24aa3c84e52df45a
U: restaurants in mountain view
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mountain view");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California")
C: #[results=[
C:   { id="K6IdrX5prUvA5iAMCdQfGw"^^com.yelp:restaurant("Cascal"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/FMVyuURiQeX2fBpR8V921g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cascal-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["tapas"^^com.yelp:restaurant_cuisine("Tapas Bars"), "spanish"^^com.yelp:restaurant_cuisine("Spanish")], price=enum moderate, rating=3.5, review_count=3059, geo=new Location(37.39117, -122.0813, "400 Castro St, Mountain View, CA 94041"), phone="+16509409500"^^tt:phone_number },
C:   { id="j2rJ3W5c_CZ2tQh2QJ4oUA"^^com.yelp:restaurant("Sushi Tomi"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/MsknJSZnkzqf_BdgHr7SJQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sushi-tomi-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.3915303378286, -122.07806645178, "635 W Dana St, Mountain View, CA 94040"), phone="+16509683227"^^tt:phone_number },
C:   { id="cm8oHti0SIPPqR8PcmcSvA"^^com.yelp:restaurant("Garden Fresh"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/EnKogtsi9rjeTVAbGjTY7Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/garden-fresh-mountain-view-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "soup"^^com.yelp:restaurant_cuisine("Soup")], price=enum moderate, rating=4, review_count=1340, geo=new Location(37.387904, -122.089053, "1245 W El Camino Real, Mountain View, CA 94040"), phone="+16502541688"^^tt:phone_number },
C:   { id="5Pik34EY1zRXYQGzBV_d8g"^^com.yelp:restaurant("Vaso Azzurro Ristorante"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/PvEzrsQaHpL57IrLNDQNcQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/vaso-azzurro-ristorante-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1758, geo=new Location(37.394946, -122.078608, "108 Castro St, Mountain View, CA 94041"), phone="+16509401717"^^tt:phone_number },
C:   { id="YQrIesXAfl772IPHQbp4LA"^^com.yelp:restaurant("Maru Ichi"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/rCyOhgFYg7g0D4Zt06idfA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/maru-ichi-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=3.5, review_count=1827, geo=new Location(37.391902, -122.0805266, "368 Castro St, Mountain View, CA 94041"), phone="+16505649931"^^tt:phone_number },
C:   { id="vRhk8dBqWuGPG03E-Ev2nQ"^^com.yelp:restaurant("Xanh Restaurant"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/X0TjiHpPWOiDDD0ADx9PYw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/xanh-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum moderate, rating=3.5, review_count=2036, geo=new Location(37.395083168506105, -122.0786624, "110 Castro St, Mountain View, CA 94041"), phone="+16509641888"^^tt:phone_number },
C:   { id="k-wNY6uyQZMHo9xFu-1bFg"^^com.yelp:restaurant("Superhot Hotpot & Korean BBQ"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/YCeP2pnPqRqILsmfMJZ5_g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/superhot-hotpot-and-korean-bbq-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["korean"^^com.yelp:restaurant_cuisine("Korean"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=692, geo=new Location(37.39329, -122.07813, "210 Hope St, Mountain View, CA 94041"), phone="+16509639819"^^tt:phone_number },
C:   { id="OsZ3ikKf22bqsy7NyOfgAA"^^com.yelp:restaurant("Caspian Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/a0fyCpZqb8PujWBU_Mi8wA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/caspian-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "persian"^^com.yelp:restaurant_cuisine("Persian/Iranian"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4.5, review_count=646, geo=new Location(37.394157410448, -122.0968849491085, "1910 W EI Camino Real, Mountain View, CA 94040"), phone="+16509677752"^^tt:phone_number },
C:   { id="5SFgMsPJc4VjfHpCyCnINg"^^com.yelp:restaurant("Doppio Zero"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/JURDKPRJOO6p1MJ1qXSmbA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/doppio-zero-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1050, geo=new Location(37.394436, -122.078926, "160 Castro St, Mountain View, CA 94041"), phone="+16509384147"^^tt:phone_number },
C:   { id="ud9ocsQHI7h3zNO7FdOFYQ"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ExzkehEv1MEIvEoNdtDOgw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-mountain-view-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["halal"^^com.yelp:restaurant_cuisine("Halal"), "indpak"^^com.yelp:restaurant_cuisine("Indian"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1892, geo=new Location(37.4161698674427, -122.079413779972, "1477 Plymouth St, Ste C, Mountain View, CA 94043"), phone="+16506286100"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I see Cascal, Sushi Tomi, and Garden Fresh. They're moderate restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: seafood restaurants
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("seafood")) && geo == new Location(37.3893889, -122.0832101, "Mountain View, California");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.3893889, -122.0832101, "Mountain View, California")
C: #[results=[
C:   { id="K6IdrX5prUvA5iAMCdQfGw"^^com.yelp:restaurant("Cascal"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/FMVyuURiQeX2fBpR8V921g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cascal-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["tapas"^^com.yelp:restaurant_cuisine("Tapas Bars"), "spanish"^^com.yelp:restaurant_cuisine("Spanish")], price=enum moderate, rating=3.5, review_count=3059, geo=new Location(37.39117, -122.0813, "400 Castro St, Mountain View, CA 94041"), phone="+16509409500"^^tt:phone_number },
C:   { id="j2rJ3W5c_CZ2tQh2QJ4oUA"^^com.yelp:restaurant("Sushi Tomi"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/MsknJSZnkzqf_BdgHr7SJQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/sushi-tomi-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "japanese"^^com.yelp:restaurant_cuisine("Japanese")], price=enum moderate, rating=4, review_count=2293, geo=new Location(37.3915303378286, -122.07806645178, "635 W Dana St, Mountain View, CA 94040"), phone="+16509683227"^^tt:phone_number },
C:   { id="cm8oHti0SIPPqR8PcmcSvA"^^com.yelp:restaurant("Garden Fresh"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/EnKogtsi9rjeTVAbGjTY7Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/garden-fresh-mountain-view-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "soup"^^com.yelp:restaurant_cuisine("Soup")], price=enum moderate, rating=4, review_count=1340, geo=new Location(37.387904, -122.089053, "1245 W El Camino Real, Mountain View, CA 94040"), phone="+16502541688"^^tt:phone_number },
C:   { id="5Pik34EY1zRXYQGzBV_d8g"^^com.yelp:restaurant("Vaso Azzurro Ristorante"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/PvEzrsQaHpL57IrLNDQNcQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/vaso-azzurro-ristorante-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1758, geo=new Location(37.394946, -122.078608, "108 Castro St, Mountain View, CA 94041"), phone="+16509401717"^^tt:phone_number },
C:   { id="YQrIesXAfl772IPHQbp4LA"^^com.yelp:restaurant("Maru Ichi"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/rCyOhgFYg7g0D4Zt06idfA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/maru-ichi-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=3.5, review_count=1827, geo=new Location(37.391902, -122.0805266, "368 Castro St, Mountain View, CA 94041"), phone="+16505649931"^^tt:phone_number },
C:   { id="vRhk8dBqWuGPG03E-Ev2nQ"^^com.yelp:restaurant("Xanh Restaurant"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/X0TjiHpPWOiDDD0ADx9PYw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/xanh-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum moderate, rating=3.5, review_count=2036, geo=new Location(37.395083168506105, -122.0786624, "110 Castro St, Mountain View, CA 94041"), phone="+16509641888"^^tt:phone_number },
C:   { id="k-wNY6uyQZMHo9xFu-1bFg"^^com.yelp:restaurant("Superhot Hotpot & Korean BBQ"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/YCeP2pnPqRqILsmfMJZ5_g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/superhot-hotpot-and-korean-bbq-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["korean"^^com.yelp:restaurant_cuisine("Korean"), "hotpot"^^com.yelp:restaurant_cuisine("Hot Pot"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=692, geo=new Location(37.39329, -122.07813, "210 Hope St, Mountain View, CA 94041"), phone="+16509639819"^^tt:phone_number },
C:   { id="OsZ3ikKf22bqsy7NyOfgAA"^^com.yelp:restaurant("Caspian Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/a0fyCpZqb8PujWBU_Mi8wA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/caspian-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "persian"^^com.yelp:restaurant_cuisine("Persian/Iranian"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4.5, review_count=646, geo=new Location(37.394157410448, -122.0968849491085, "1910 W EI Camino Real, Mountain View, CA 94040"), phone="+16509677752"^^tt:phone_number },
C:   { id="5SFgMsPJc4VjfHpCyCnINg"^^com.yelp:restaurant("Doppio Zero"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/JURDKPRJOO6p1MJ1qXSmbA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/doppio-zero-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza"), "italian"^^com.yelp:restaurant_cuisine("Italian")], price=enum moderate, rating=4, review_count=1050, geo=new Location(37.394436, -122.078926, "160 Castro St, Mountain View, CA 94041"), phone="+16509384147"^^tt:phone_number },
C:   { id="ud9ocsQHI7h3zNO7FdOFYQ"^^com.yelp:restaurant("Zareen's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ExzkehEv1MEIvEoNdtDOgw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/zareens-mountain-view-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["halal"^^com.yelp:restaurant_cuisine("Halal"), "indpak"^^com.yelp:restaurant_cuisine("Indian"), "pakistani"^^com.yelp:restaurant_cuisine("Pakistani")], price=enum moderate, rating=4.5, review_count=1892, geo=new Location(37.4161698674427, -122.079413779972, "1477 Plymouth St, Ste C, Mountain View, CA 94043"), phone="+16506286100"^^tt:phone_number }
C: ]]
C: #[count=50];
C: @com.yelp.restaurant() filter contains(cuisines, "seafood"^^com.yelp:restaurant_cuisine("Seafood")) && geo == new Location(37.3893889, -122.0832101, "Mountain View, California")
C: #[results=[
C:   { id="xcoCyCfNcrYdSJ_2oujzcQ"^^com.yelp:restaurant("Poké Bar"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/F7cMaUO-y1P6jrr4M46nOA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/pok%C3%A9-bar-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "hawaiian"^^com.yelp:restaurant_cuisine("Hawaiian")], price=enum moderate, rating=4, review_count=424, geo=new Location(37.39217, -122.08039, "340 Castro St, Mountain View, CA 94041"), phone="+16502000376"^^tt:phone_number },
C:   { id="sGeSJtMIKfluaJPEbL3T_A"^^com.yelp:restaurant("Bushido Izakaya Restaurant"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/Pb7DzT9q2-fh89dvl7whrQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/bushido-izakaya-restaurant-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "seafood"^^com.yelp:restaurant_cuisine("Seafood"), "izakaya"^^com.yelp:restaurant_cuisine("Izakaya")], price=enum moderate, rating=3.5, review_count=824, geo=new Location(37.394577, -122.078857, "156 Castro St, Mountain View, CA 94041"), phone="+16503866821"^^tt:phone_number },
C:   { id="ZimdCe2xCAOOZjt1aQAMvg"^^com.yelp:restaurant("Chef Chu's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/Zx0yJrh7sabsjFRbGyFEEw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chef-chus-los-altos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=1880, geo=new Location(37.4006, -122.11367, "1067 N San Antonio Rd, Los Altos, CA 94022"), phone="+16509482696"^^tt:phone_number },
C:   { id="P1eEPolk9EDGqVn1Jyncww"^^com.yelp:restaurant("The Sea by Alexander's Steakhouse"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/Vy6SuYTEdNZTc_jCf0BRsw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/the-sea-by-alexanders-steakhouse-palo-alto-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "steak"^^com.yelp:restaurant_cuisine("Steakhouses")], price=enum luxury, rating=4, review_count=1135, geo=new Location(37.4073956447235, -122.120500259912, "4269 El Camino Real, Palo Alto, CA 94306"), phone="+16502131111"^^tt:phone_number },
C:   { id="kYH4GcNx6KEsDnb7veMI3w"^^com.yelp:restaurant("Kirin Restaurant 麒麟閣"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/UOpp3UUwh7DISaXCRfGDng/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/kirin-restaurant-%E9%BA%92%E9%BA%9F%E9%96%A3-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=3, review_count=505, geo=new Location(37.39047, -122.08061, "485 Castro St, Mountain View, CA 94041"), phone="+16509651059"^^tt:phone_number },
C:   { id="L1Rrg8vtoJluO-X3VPv_4w"^^com.yelp:restaurant("Yami Grill"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/XKBwu8l3SndENnyuUr5aFg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/yami-grill-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "guamanian"^^com.yelp:restaurant_cuisine("Guamanian"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4.5, review_count=113, geo=new Location(37.3852199, -122.07532, "699 Calderon Ave, Mountain View, CA 94041"), phone="+16505843328"^^tt:phone_number },
C:   { id="5Kz0xNdUTS5xuO5UTHMDig"^^com.yelp:restaurant("Pacific Catch"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/2-snh2g_ag1YycbhnsvPGA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/pacific-catch-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "tacos"^^com.yelp:restaurant_cuisine("Tacos"), "sushi"^^com.yelp:restaurant_cuisine("Sushi Bars")], price=enum moderate, rating=4, review_count=855, geo=new Location(37.403148, -122.11153, "545 San Antonio Rd, Ste 34, Mountain View, CA 94040"), phone="+16509411810"^^tt:phone_number },
C:   { id="lX6DstPH9zxKXgN31VlUdQ"^^com.yelp:restaurant("Cucina Venti Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/ou5q_hbcfBrLh0vAxlIY8g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/cucina-venti-restaurant-mountain-view-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=747, geo=new Location(37.4160513, -122.0776138, "1390 Pear Ave, Ste D, Mountain View, CA 94043"), phone="+16502541120"^^tt:phone_number },
C:   { id="X7GqGhp7GaSrWseBbBrG2A"^^com.yelp:restaurant("UlavacharU"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/wTPS_OmUEECUGsm0jGl9pw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ulavacharu-sunnyvale-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["indpak"^^com.yelp:restaurant_cuisine("Indian"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=1992, geo=new Location(37.36032, -122.0224, "685 E El Camino Real, Sunnyvale, CA 94087"), phone="+14089121475"^^tt:phone_number },
C:   { id="TeRe9kFbODh7YDb_zDu8Ww"^^com.yelp:restaurant("Rustic House Oyster Bar and Grill - Los Altos"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/27i4s1x2Wal558WCtJXo7g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/rustic-house-oyster-bar-and-grill-los-altos-los-altos-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood"), "tradamerican"^^com.yelp:restaurant_cuisine("American (Traditional)")], price=enum moderate, rating=4, review_count=423, geo=new Location(37.378261, -122.116373, "295 Main St, Los Altos, CA 94022"), phone="+16509352129"^^tt:phone_number }
C: ]]
C: #[count=50];
A: I see Poké Bar, Bushido Izakaya Restaurant, and Chef Chu's. They're moderate restaurants with Seafood food.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: chinese restaurant
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese")) && geo == new Location(37.3893889, -122.0832101, "Mountain View, California");
====
# recording/841ebce5c490ca270daef3e21bf37d72
U: I would like to order a pizza
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("pizza"));
====
# recording/4d0407246e08b5303462a9ad2bf1e98d
U: what's the most reviewed restaurant in San Francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(review_count desc of @com.yelp.restaurant() filter geo == new Location("san francisco"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California"))[1]
C: #[results=[
C:   { id="lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/olWZc1SyhyPkz1btzms_hg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/brendas-french-soul-food-san-francisco-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "southern"^^com.yelp:restaurant_cuisine("Southern"), "cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole")], price=enum moderate, rating=4, review_count=11234, geo=new Location(37.7829016035273, -122.419043442957, "652 Polk St, San Francisco, CA 94102"), phone="+14153458100"^^tt:phone_number }
C: ]];
A: The most reviewed restaurant is Brenda's French Soul Food. It is a restaurant near 652 Polk St, San Francisco, CA 94102 rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: how many reviews?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [review_count] of sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California") && id == "lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California"))[1]
C: #[results=[
C:   { id="lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/olWZc1SyhyPkz1btzms_hg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/brendas-french-soul-food-san-francisco-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "southern"^^com.yelp:restaurant_cuisine("Southern"), "cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole")], price=enum moderate, rating=4, review_count=11234, geo=new Location(37.7829016035273, -122.419043442957, "652 Polk St, San Francisco, CA 94102"), phone="+14153458100"^^tt:phone_number }
C: ]];
C: [review_count] of sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California") && id == "lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"))[1]
C: #[results=[
C:   { id="lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"), review_count=11234 }
C: ]];
A: Brenda's French Soul Food is a restaurant with 11,234 reviews.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what's the best German restaurant in San Francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("german")) && geo == new Location("san francisco"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California"))[1]
C: #[results=[
C:   { id="lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/olWZc1SyhyPkz1btzms_hg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/brendas-french-soul-food-san-francisco-5?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "southern"^^com.yelp:restaurant_cuisine("Southern"), "cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole")], price=enum moderate, rating=4, review_count=11234, geo=new Location(37.7829016035273, -122.419043442957, "652 Polk St, San Francisco, CA 94102"), phone="+14153458100"^^tt:phone_number }
C: ]];
C: [review_count] of sort(review_count desc of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California") && id == "lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"))[1]
C: #[results=[
C:   { id="lJAGnYzku5zSaLnQ_T6_GQ"^^com.yelp:restaurant("Brenda's French Soul Food"), review_count=11234 }
C: ]];
C: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "german"^^com.yelp:restaurant_cuisine("German")) && geo == new Location(37.7790262, -122.419906, "San Francisco, California"))[1]
C: #[results=[
C:   { id="UNmJz8U03hjA5I5DB87BBw"^^com.yelp:restaurant("Berliner Berliner"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/1v7ycqIO9F3on0EfxxqM4g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/berliner-berliner-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["german"^^com.yelp:restaurant_cuisine("German"), "burgers"^^com.yelp:restaurant_cuisine("Burgers"), "hotdog"^^com.yelp:restaurant_cuisine("Hot Dogs")], rating=5, review_count=52, geo=new Location(37.77183, -122.43114, "545 Haight St, San Francisco, CA 94117"), phone="+14157951457"^^tt:phone_number }
C: ]];
A: The top rated restaurant is Berliner Berliner. It is a restaurant near 545 Haight St, San Francisco, CA 94117 rated 5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what's the most reviewed German restaurant in San Francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(review_count desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("german")) && geo == new Location("san francisco"))[1];
====
# recording/ed6bce11a1af007f010a3578a152ac73
U: Ask Yelp if there's any ice cream near Mission Dolores Park.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream")) && geo == new Location("mission dolores park");
====
# recording/454d6470332de0c8228091ea42add3c2
U: What's a good Chinese restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("chinese"));
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese"))
C: #[results=[
C:   { id="uVploy81jeEvlvPTA6cgjw"^^com.yelp:restaurant("Mandarin Roots"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/AnLZUIDEHJsFcEMyzoggzQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mandarin-roots-palo-alto-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=569, geo=new Location(37.42028, -122.13601, "3345 El Camino Real, Palo Alto, CA 94306"), phone="+16505658868"^^tt:phone_number },
C:   { id="w17EBwOBXKaYIiGf7LTD9Q"^^com.yelp:restaurant("Jing Jing Chinese Gourmet"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/fsjBluohoq0fQYUAN8fD4g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/jing-jing-chinese-gourmet-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=3.5, review_count=406, geo=new Location(37.44514, -122.16306, "443 Emerson St, Palo Alto, CA 94301"), phone="+16503286885"^^tt:phone_number },
C:   { id="ZimdCe2xCAOOZjt1aQAMvg"^^com.yelp:restaurant("Chef Chu's"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/Zx0yJrh7sabsjFRbGyFEEw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/chef-chus-los-altos?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4, review_count=1882, geo=new Location(37.4006, -122.11367, "1067 N San Antonio Rd, Los Altos, CA 94022"), phone="+16509482696"^^tt:phone_number },
C:   { id="aLXs35royGdxEtfRmesaTw"^^com.yelp:restaurant("Green Elephant Gourmet"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/KRkh9Sxnhja1G0tNMLnIdQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/green-elephant-gourmet-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "burmese"^^com.yelp:restaurant_cuisine("Burmese")], price=enum moderate, rating=3.5, review_count=286, geo=new Location(37.4187397433899, -122.109109532186, "3950 Middlefield Rd, Palo Alto, CA 94303"), phone="+16504947391"^^tt:phone_number },
C:   { id="LjI8BVHVg5vNEHYuRyxtHw"^^com.yelp:restaurant("Peking Duck"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/0kzgVrhDcpPDAaeuef1y8g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/peking-duck-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=3, review_count=353, geo=new Location(37.428471817387894, -122.14277685914219, "151 S California Ave, Palo Alto, CA 94306"), phone="+16503219388"^^tt:phone_number },
C:   { id="WWyaK9oskNOpjCsO6MA7Pw"^^com.yelp:restaurant("P.F. Chang's"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/SR0mlHWyUwVBqxBBbeGRaw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/p-f-changs-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion")], price=enum moderate, rating=2.5, review_count=786, geo=new Location(37.4436714574102, -122.168239921338, "900 Stanford Shopping Ctr, Bldg. W, Palo Alto, CA 94304"), phone="+16503301782"^^tt:phone_number },
C:   { id="OFUQHchaV2uqjJmO-EuVlA"^^com.yelp:restaurant("Veggie Garden"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/Vn_EOReqLYMLSGMSDIOlXQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/veggie-garden-mountain-view?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vegan"^^com.yelp:restaurant_cuisine("Vegan"), "vegetarian"^^com.yelp:restaurant_cuisine("Vegetarian"), "chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4.5, review_count=514, geo=new Location(37.399226131236, -122.1086273955, "2464 W El Camino Real, Ste C, Mountain View, CA 94040"), phone="+16509616888"^^tt:phone_number },
C:   { id="zg83ulOQw1m18kLoNHcXUA"^^com.yelp:restaurant("Phil's Kitchen"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/rpCFoxuH71QLwDoveRY9Hg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/phils-kitchen-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "hawaiian"^^com.yelp:restaurant_cuisine("Hawaiian"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=515, geo=new Location(37.4536749590389, -122.184342294931, "625 Oak Grove Ave, Unit B, Menlo Park, CA 94025"), phone="+16505614296"^^tt:phone_number },
C:   { id="cm8oHti0SIPPqR8PcmcSvA"^^com.yelp:restaurant("Garden Fresh"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/EnKogtsi9rjeTVAbGjTY7Q/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/garden-fresh-mountain-view-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "noodles"^^com.yelp:restaurant_cuisine("Noodles"), "soup"^^com.yelp:restaurant_cuisine("Soup")], price=enum moderate, rating=4, review_count=1341, geo=new Location(37.387904, -122.089053, "1245 W El Camino Real, Mountain View, CA 94040"), phone="+16502541688"^^tt:phone_number },
C:   { id="IccyNXafP876EY6vkHetbg"^^com.yelp:restaurant("MP Mongolian BBQ"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/MBjcL710bbS2OLNOjvlwvQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/mp-mongolian-bbq-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["buffets"^^com.yelp:restaurant_cuisine("Buffets"), "chinese"^^com.yelp:restaurant_cuisine("Chinese")], price=enum moderate, rating=4, review_count=311, geo=new Location(37.451705, -122.178848, "700 El Camino Real, Ste 170, Menlo Park, CA 94025"), phone="+16508531118"^^tt:phone_number }
C: ]]
C: #[count=12];
A: I see Mandarin Roots, Jing Jing Chinese Gourmet, and Chef Chu's. They're moderate Chinese restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: What are the hours for chef choose?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [opening_hours] of @com.yelp.restaurant() filter contains(cuisines, "chinese"^^com.yelp:restaurant_cuisine("Chinese")) && id == null^^com.yelp:restaurant("chef choose");
====
# recording/b3e76b9ea70837700cdc9e175239aa3d
U: Find ice cream and frozen yogurt near Mission Dolores Park in San Francisco.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("ice cream and frozen yogurt")) && geo == new Location("mission dolores park in san francisco");
====
# recording/b44bdb258ba7fe1ef42a65b3ddb05e17
U: What's a great restaurant?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant();
====
# recording/dab23f359f1d7284f8d604c6f3523763
U: What's a restaurant in San Francisco that's open in the morning?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(opening_hours, $time.morning) && geo == new Location("san francisco");
====
# recording/e009cdafcce4e3679bc9bda9b11b97f4
U: What's a great place to eat in Bernal Heights?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("bernal heights");
====
# recording/6b1b5a7f5a147fe98cfa3f01cb262a6c
U: tell me some great restaurants around here.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location;
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California")
C: #[results=[
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=2054, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301") },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2498, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2379, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2292, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="jwaXc3VVGDFQu1aCoiXwdw"^^com.yelp:restaurant("NOLA Restaurant & Bar"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/aFbcuzteoQ4yN5R9R5-XAg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/nola-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=3.5, review_count=2915, geo=new Location(37.4450225830078, -122.161323547363, "535 Ramona St, Palo Alto, CA 94301"), phone="+16503282722"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1888, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/sFr91fN0iGlhhSO21S01Jg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=817, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/eoOED41qKM_HEp1nVMaHTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crepevine-restaurants-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "creperies"^^com.yelp:restaurant_cuisine("Crepes"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=1389, geo=new Location(37.44698, -122.161, "367 University Ave, Palo Alto, CA 94301"), phone="+16503233900"^^tt:phone_number },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/4OvcoE7WgF5UVlh-_KEndQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-creamery-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["diners"^^com.yelp:restaurant_cuisine("Diners"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=1415, geo=new Location(37.4438831241214, -122.16178176729, "566 Emerson St, Palo Alto, CA 94301"), phone="+16503233131"^^tt:phone_number },
C:   { id="lj_i7YQw7MPgLkuseruWdQ"^^com.yelp:restaurant("Telefèric Barcelona"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/6e9e6mtOPC9ccqETykIrdQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/telef%C3%A8ric-barcelona-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["spanish"^^com.yelp:restaurant_cuisine("Spanish"), "tapas"^^com.yelp:restaurant_cuisine("Tapas Bars")], price=enum expensive, rating=4, review_count=816, geo=new Location(37.4383, -122.158361, "855 El Camino Real, Ste 130, Palo Alto, CA 94301"), phone="+16503210512"^^tt:phone_number }
C: ]]
C: #[count=19];
A: I see Ramen Nagi, Evvia Estiatorio, and Oren's Hummus. Ramen Nagi is rated 4.5 star, Evvia Estiatorio is rated 4.5 star, and Oren's Hummus is rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: how many reviews do those have?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [review_count] of @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California")
C: #[results=[
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/gxSfnCdg13rWle8DcjmT6w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/ramen-nagi-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["ramen"^^com.yelp:restaurant_cuisine("Ramen"), "noodles"^^com.yelp:restaurant_cuisine("Noodles")], price=enum moderate, rating=4.5, review_count=2054, geo=new Location(37.445523, -122.1607073261, "541 Bryant St, Palo Alto, CA 94301") },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/GGqRQbLqoDMBktLA5iqZZQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/evvia-estiatorio-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["greek"^^com.yelp:restaurant_cuisine("Greek")], price=enum expensive, rating=4.5, review_count=2498, geo=new Location(37.445077, -122.163778, "420 Emerson St, Palo Alto, CA 94301"), phone="+16503260983"^^tt:phone_number },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/hZ9fx8ifFPt9Xj9utnd0TA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/orens-hummus-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean"), "mideastern"^^com.yelp:restaurant_cuisine("Middle Eastern")], price=enum moderate, rating=4, review_count=2379, geo=new Location(37.445717, -122.162173, "261 University Ave, Palo Alto, CA 94301"), phone="+16507526492"^^tt:phone_number },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/gVksndAr5BsNfHaO2ilaSQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/coconuts-caribbean-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["caribbean"^^com.yelp:restaurant_cuisine("Caribbean")], price=enum moderate, rating=4, review_count=2292, geo=new Location(37.44381, -122.16027, "642 Ramona St, Palo Alto, CA 94301"), phone="+16503299533"^^tt:phone_number },
C:   { id="jwaXc3VVGDFQu1aCoiXwdw"^^com.yelp:restaurant("NOLA Restaurant & Bar"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/aFbcuzteoQ4yN5R9R5-XAg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/nola-restaurant-and-bar-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cajun"^^com.yelp:restaurant_cuisine("Cajun/Creole"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=3.5, review_count=2915, geo=new Location(37.4450225830078, -122.161323547363, "535 Ramona St, Palo Alto, CA 94301"), phone="+16503282722"^^tt:phone_number },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/u6KX5WLtw23IMcIJgOSSCw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tamarine-restaurant-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["vietnamese"^^com.yelp:restaurant_cuisine("Vietnamese")], price=enum expensive, rating=4, review_count=1888, geo=new Location(37.44881, -122.15833, "546 University Ave, Palo Alto, CA 94301"), phone="+16503258500"^^tt:phone_number },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/sFr91fN0iGlhhSO21S01Jg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/philz-coffee-palo-alto-6?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum cheap, rating=4.5, review_count=817, geo=new Location(37.442174, -122.161583, "101 Forest Ave, Palo Alto, CA 94301"), phone="+16503212161"^^tt:phone_number },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/eoOED41qKM_HEp1nVMaHTQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/crepevine-restaurants-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "creperies"^^com.yelp:restaurant_cuisine("Crepes"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=1389, geo=new Location(37.44698, -122.161, "367 University Ave, Palo Alto, CA 94301"), phone="+16503233900"^^tt:phone_number },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/4OvcoE7WgF5UVlh-_KEndQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/palo-alto-creamery-palo-alto-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["diners"^^com.yelp:restaurant_cuisine("Diners"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=1415, geo=new Location(37.4438831241214, -122.16178176729, "566 Emerson St, Palo Alto, CA 94301"), phone="+16503233131"^^tt:phone_number },
C:   { id="lj_i7YQw7MPgLkuseruWdQ"^^com.yelp:restaurant("Telefèric Barcelona"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/6e9e6mtOPC9ccqETykIrdQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/telef%C3%A8ric-barcelona-palo-alto?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["spanish"^^com.yelp:restaurant_cuisine("Spanish"), "tapas"^^com.yelp:restaurant_cuisine("Tapas Bars")], price=enum expensive, rating=4, review_count=816, geo=new Location(37.4383, -122.158361, "855 El Camino Real, Ste 130, Palo Alto, CA 94301"), phone="+16503210512"^^tt:phone_number }
C: ]]
C: #[count=19];
C: [review_count] of @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California")
C: #[results=[
C:   { id="vhfPni9pci29SEHrN1OtRg"^^com.yelp:restaurant("Ramen Nagi"), review_count=2054 },
C:   { id="1vMgajRAI3lYwuCeGX58oQ"^^com.yelp:restaurant("Evvia Estiatorio"), review_count=2498 },
C:   { id="KyU7XWDPclmZ3BpdIsd_0Q"^^com.yelp:restaurant("Oren's Hummus"), review_count=2379 },
C:   { id="0WDM3JlNBvk2MeOTlu03mg"^^com.yelp:restaurant("Coconuts Caribbean Restaurant & Bar"), review_count=2292 },
C:   { id="jwaXc3VVGDFQu1aCoiXwdw"^^com.yelp:restaurant("NOLA Restaurant & Bar"), review_count=2915 },
C:   { id="_mkNOTiQ-kbc1kJHo9RoVA"^^com.yelp:restaurant("Tamarine Restaurant"), review_count=1888 },
C:   { id="TtYbsOqn7vLKhva0AuKQQQ"^^com.yelp:restaurant("Philz Coffee"), review_count=817 },
C:   { id="pi9MMjHWtVxC9eTnMk7e_w"^^com.yelp:restaurant("Crepevine Restaurants"), review_count=1389 },
C:   { id="-g_tUhyvUFbxOs0aB28j1w"^^com.yelp:restaurant("Palo Alto Creamery"), review_count=1415 },
C:   { id="lj_i7YQw7MPgLkuseruWdQ"^^com.yelp:restaurant("Telefèric Barcelona"), review_count=816 }
C: ]]
C: #[count=19];
A: Ramen Nagi has 2,054 reviews, Evvia Estiatorio has 2,498 reviews, and Oren's Hummus has 2,379 reviews.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: thank you.
UT: $dialogue @org.thingpedia.dialogue.transaction.cancel;
====
# recording/ce81ac0d3df4cababb539b737588aa6d
U: what's some great Mexican food around Bernal Heights?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("mexican")) && geo == new Location("bernal heights");
====
# recording/a39cc1c237cd92381673d483e0f21567
U: What's the best restaurant in the Mission District of San Francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter geo == new Location("mission district of san francisco"))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(rating desc of @com.yelp.restaurant() filter geo == new Location(37.75993, -122.4191376, "Mission District, San Francisco, CA 90103"))[1]
C: #[results=[
C:   { id="RGeS1J38e5PmDOiGS-7bOA"^^com.yelp:restaurant("Shish Ke Baba"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/jkIohD30Tl_qn0H-KHkjjg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/shish-ke-baba-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["kebab"^^com.yelp:restaurant_cuisine("Kebab"), "turkish"^^com.yelp:restaurant_cuisine("Turkish"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum moderate, rating=5, review_count=308, geo=new Location(37.742213, -122.423143, "59 30th St, San Francisco, CA 94110"), phone="+14159268955"^^tt:phone_number }
C: ]];
A: The top rated restaurant is Shish Ke Baba. It is a restaurant near 59 30th St, San Francisco, CA 94110 rated 5 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: What's the most reviewed restaurant in the Mission District of San Francisco?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(review_count desc of @com.yelp.restaurant() filter geo == new Location("mission district of san francisco"))[1];
====
# recording/d607fc6c3e7dd242456cf3e40a8b0380
U: what's the best place to get pizza?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("pizza")))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "pizza"^^com.yelp:restaurant_cuisine("Pizza")))[1]
C: #[results=[
C:   { id="hMg8E8TZoStE0MeLuRfQYA"^^com.yelp:restaurant("La Quinta Pizza"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/etzVBSlG80irlG6k30Sa4g/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-quinta-pizza-redwood-city-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["pizza"^^com.yelp:restaurant_cuisine("Pizza")], rating=5, review_count=26, geo=new Location(37.469452217080544, -122.2073944, "151 5th Ave, Ste B, Redwood City, CA"), phone="+16505056722"^^tt:phone_number }
C: ]];
A: The top rated restaurant is La Quinta Pizza. It is a Pizza restaurant rated 5 stars.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: what's the phone number and address?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo, phone] of sort(rating desc of @com.yelp.restaurant() filter contains(cuisines, "pizza"^^com.yelp:restaurant_cuisine("Pizza")) && id == "hMg8E8TZoStE0MeLuRfQYA"^^com.yelp:restaurant("La Quinta Pizza"))[1];
====
# recording/e981c1cddb8299364ae20d3afc0bb780
U: can you recommend a good place to eat near Mission Dolores Park?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("mission dolores park");
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.7597203, -122.4271322952394, "Mission Dolores Park, San Francisco, CA 94114")
C: #[results=[
C:   { id="ri7UUYmx21AgSpRsf4-9QA"^^com.yelp:restaurant("Tartine Bakery"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/nPUUXYVVa3CHJh5yzH8Xnw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-bakery-san-francisco-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cafes"^^com.yelp:restaurant_cuisine("Cafes")], price=enum moderate, rating=4, review_count=8181, geo=new Location(37.76131, -122.42431, "600 Guerrero St, San Francisco, CA 94110"), phone="+14154872600"^^tt:phone_number },
C:   { id="KkAVX3Wb7E3lP5F_f_8pXg"^^com.yelp:restaurant("Liholiho Yacht Club"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/DluAA2YbM8k6qRM_mwbiNw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/liholiho-yacht-club-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)"), "seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum expensive, rating=4.5, review_count=2487, geo=new Location(37.7618143, -122.42296790220479, "3560 18th St, San Francisco, CA 94110"), phone="+14155897266"^^tt:phone_number },
C:   { id="SGRmnarrNuVEsAjYdEoA0w"^^com.yelp:restaurant("El Farolito"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/kYemXiMcYje-Da7AjPtWcg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/el-farolito-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum cheap, rating=4, review_count=5065, geo=new Location(37.75265, -122.41812, "2779 Mission St, San Francisco, CA 94110"), phone="+14158247877"^^tt:phone_number },
C:   { id="n6L5VIGunR51-D55C-eYeQ"^^com.yelp:restaurant("Foreign Cinema"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/cw5y2LSOIE-EVNjKK_d7SQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/foreign-cinema-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "mediterranean"^^com.yelp:restaurant_cuisine("Mediterranean")], price=enum expensive, rating=4, review_count=5018, geo=new Location(37.75637, -122.41925, "2534 Mission St, San Francisco, CA 94110"), phone="+14156487600"^^tt:phone_number },
C:   { id="XQLmEdXoMzOpffwoFaBtaQ"^^com.yelp:restaurant("Kitchen Story"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/XIhdtd0fB2P_v_qhh1hWbg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/kitchen-story-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch"), "asianfusion"^^com.yelp:restaurant_cuisine("Asian Fusion"), "newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=4, review_count=3588, geo=new Location(37.7642352, -122.4306936, "3499 16th St, San Francisco, CA 94114"), phone="+14155254905"^^tt:phone_number },
C:   { id="4KfQnlcSu4bbTqnvGdGptw"^^com.yelp:restaurant("Beretta"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/HKxMJ8q8fzOY76hy7ACIag/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/beretta-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["italian"^^com.yelp:restaurant_cuisine("Italian"), "pizza"^^com.yelp:restaurant_cuisine("Pizza"), "breakfast_brunch"^^com.yelp:restaurant_cuisine("Breakfast & Brunch")], price=enum moderate, rating=4, review_count=3828, geo=new Location(37.753869, -122.420611, "1199 Valencia St, San Francisco, CA 94110"), phone="+14156951199"^^tt:phone_number },
C:   { id="1hMD7RQogPDWpE-p3LKjXA"^^com.yelp:restaurant("Loló"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/QimJjz8ECFnevPcssJYfTw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/lol%C3%B3-san-francisco-4?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican"), "tapasmallplates"^^com.yelp:restaurant_cuisine("Tapas/Small Plates")], price=enum moderate, rating=4, review_count=2281, geo=new Location(37.7573462, -122.4214034, "974 Valencia St, San Francisco, CA 94110"), phone="+14156435656"^^tt:phone_number },
C:   { id="ZDvIMjJ-7I0561ckM4pAeA"^^com.yelp:restaurant("Anchor Oyster Bar"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/oKLPo1042ojJJC9OcCzAMw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/anchor-oyster-bar-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["seafood"^^com.yelp:restaurant_cuisine("Seafood")], price=enum moderate, rating=4.5, review_count=1552, geo=new Location(37.759689, -122.434609, "579 Castro St, San Francisco, CA 94114"), phone="+14154313990"^^tt:phone_number },
C:   { id="JARsJVKLPgs_yC3cwDnp7g"^^com.yelp:restaurant("La Taqueria"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/7LqVKYVg2GdEFKI2CFL4cA/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/la-taqueria-san-francisco-2?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["mexican"^^com.yelp:restaurant_cuisine("Mexican")], price=enum moderate, rating=4, review_count=4250, geo=new Location(37.75088, -122.41805, "2889 Mission St, San Francisco, CA 94110"), phone="+14152857117"^^tt:phone_number },
C:   { id="CYttYTEiQuhSfo3SEh79fA"^^com.yelp:restaurant("Shizen Vegan Sushi Bar & Izakaya"), image_url="https://s3-media4.fl.yelpcdn.com/bphoto/-1BWnyjrsDmTmXH_3wZl_w/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/shizen-vegan-sushi-bar-and-izakaya-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["sushi"^^com.yelp:restaurant_cuisine("Sushi Bars"), "vegan"^^com.yelp:restaurant_cuisine("Vegan"), "izakaya"^^com.yelp:restaurant_cuisine("Izakaya")], price=enum moderate, rating=4.5, review_count=1801, geo=new Location(37.768326, -122.421682, "370 14th St, San Francisco, CA 94103"), phone="+14156785767"^^tt:phone_number }
C: ]]
C: #[count=19];
A: I see Tartine Bakery, Liholiho Yacht Club, and El Farolito. Tartine Bakery is rated 4 star, Liholiho Yacht Club is rated 4.5 star, and El Farolito is rated 4 star.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_three;
U: When's tartine open?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [opening_hours] of @com.yelp.restaurant() filter geo == new Location(37.7597203, -122.4271322952394, "Mission Dolores Park, San Francisco, CA 94114") && id == null^^com.yelp:restaurant("tartine");
====
# recording/d7b1039f4854ae422569f45d278cd060
U: What is the closest Korean barbecue at Stanford?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: sort(distance(geo, new Location("stanford")) asc of @com.yelp.restaurant() filter contains(cuisines, null^^com.yelp:restaurant_cuisine("korean barbecue")))[1];
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: sort(distance(geo, new Location(37.426540700000004, -122.17029258409187, "Stanford, Palo Alto, California")) asc of @com.yelp.restaurant() filter contains(cuisines, "bbq"^^com.yelp:restaurant_cuisine("Barbecue")))[1]
C: #[results=[
C:   { id="zg83ulOQw1m18kLoNHcXUA"^^com.yelp:restaurant("Phil's Kitchen"), image_url="https://s3-media3.fl.yelpcdn.com/bphoto/rpCFoxuH71QLwDoveRY9Hg/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/phils-kitchen-menlo-park?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["chinese"^^com.yelp:restaurant_cuisine("Chinese"), "hawaiian"^^com.yelp:restaurant_cuisine("Hawaiian"), "bbq"^^com.yelp:restaurant_cuisine("Barbeque")], price=enum moderate, rating=4, review_count=515, geo=new Location(37.4536749590389, -122.184342294931, "625 Oak Grove Ave, Unit B, Menlo Park, CA"), phone="+16505614296"^^tt:phone_number }
C: ]];
A: I see Phil's Kitchen. It is a Barbecue restaurant rated 4 stars.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_one;
U: What is the phone number to Sun Country?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [phone] of @com.yelp.restaurant() filter id =~ "sun country";
====
# recording/afdcfb1aa3efe3e49fee0ed256142823
U: Tell me about Tartines in the city.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == $location.current_location && id =~ "tartines";
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California") && id =~ "tartines"
C: #[results=[]];
A: Sorry, there are no restaurants matching your request.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_empty_search;
U: Tell me about Tartine in San Francisco.
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: @com.yelp.restaurant() filter geo == new Location("san francisco") && id =~ "tartine";
C: $dialogue @org.thingpedia.dialogue.transaction.execute;
C: @com.yelp.restaurant() filter geo == new Location(37.4443293, -122.1598465, "Palo Alto, California") && id =~ "tartines"
C: #[results=[]];
C: @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California") && id =~ "tartine"
C: #[results=[
C:   { id="ri7UUYmx21AgSpRsf4-9QA"^^com.yelp:restaurant("Tartine Bakery"), image_url="https://s3-media2.fl.yelpcdn.com/bphoto/nPUUXYVVa3CHJh5yzH8Xnw/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-bakery-san-francisco-3?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["cafes"^^com.yelp:restaurant_cuisine("Cafes")], price=enum moderate, rating=4, review_count=8181, geo=new Location(37.76131, -122.42431, "600 Guerrero St, San Francisco, CA"), phone="+14154872600"^^tt:phone_number },
C:   { id="TdXsIPBVRLP3DR-A3sKdpg"^^com.yelp:restaurant("Tartine Manufactory"), image_url="https://s3-media1.fl.yelpcdn.com/bphoto/p0Vl0oROyI0Y_uoIfMbPDQ/o.jpg"^^tt:picture, link="https://www.yelp.com/biz/tartine-manufactory-san-francisco?adjust_creative=hejPBQRox5iXtqGPiDw4dg&utm_campaign=yelp_api_v3&utm_medium=api_v3_business_search&utm_source=hejPBQRox5iXtqGPiDw4dg"^^tt:url, cuisines=["newamerican"^^com.yelp:restaurant_cuisine("American (New)")], price=enum moderate, rating=3.5, review_count=1304, geo=new Location(37.7618402321822, -122.41198167347, "595 Alabama St, San Francisco, CA"), phone="+14157570007"^^tt:phone_number }
C: ]];
A: Both Tartine Bakery and Tartine Manufactory are moderate restaurants.
AT: $dialogue @org.thingpedia.dialogue.transaction.sys_recommend_two;
U: what's the phone number and the address of Tartine bakery?
UT: $dialogue @org.thingpedia.dialogue.transaction.execute;
UT: [geo, phone] of @com.yelp.restaurant() filter geo == new Location(37.7790262, -122.419906, "San Francisco, California") && id == null^^com.yelp:restaurant("tartine bakery");
